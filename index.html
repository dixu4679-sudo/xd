<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å¥åº·é¥®é£Ÿé€‰æ‹©åŠ©æ‰‹ Â· Healthy Food Helper</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      /* èƒŒæ™¯ä¸ä¸»è‰²ï¼šæµ…é»„è‰² + æµ…è“è‰²æ­é… */
      --bg: #fffef5;
      --bg-soft: #f8faff;
      --card: #ffffff;

      --primary: #5d8aff;      /* ä¸»é¢˜è“ */
      --primary-soft: #e8f0ff; /* å¾ˆæ·¡çš„è“è‰²å— */

      --accent-yellow: #ffc145;      /* ç‚¹ç¼€é»„ */
      --accent-yellow-soft: #fff5e0; /* å¾ˆæ·¡çš„é»„è‰²å— */

      --accent-blue: #5d8aff;
      --accent-blue-soft: #e8f0ff;

      --danger: #ff7675;
      --success: #00b894;
      --warning: #f6a44c;

      --text-main: #2d3436;
      --text-sub: #636e72;

      --border-soft: #e3e7f0;
      --shadow-soft: 0 18px 45px rgba(170, 188, 212, 0.24);
    }

    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue",
        Arial, "Noto Sans CJK SC", "Noto Sans KR", sans-serif;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #fff8e5 0, #fffef5 45%, #f4f7ff 100%);
      color: var(--text-main);
    }

    .app {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px 12px 32px;
    }

    /* ========== æ¬¢è¿å¼¹çª—ï¼ˆç¬¬ä¸€é¡µï¼‰ ========== */
    .welcome-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, #fff8e5 0, #fffef5 50%, #ffffff 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 20;
    }

    .welcome-card {
      width: 640px;
      max-width: 92vw;
      background: #ffffff;
      border-radius: 26px;
      box-shadow: var(--shadow-soft);
      padding: 26px 32px 26px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      position: relative;
    }

    .welcome-tag {
      position: absolute;
      top: 18px;
      right: 22px;
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: var(--accent-yellow-soft);
      color: var(--accent-yellow);
    }

    .welcome-header {
      display: flex;
      gap: 14px;
      align-items: center;
    }

    .welcome-icon {
      width: 52px;
      height: 52px;
      border-radius: 20px;
      background: radial-gradient(circle at 30% 20%, #fff9e6 0, #ffe7a8 40%, #c5d8ff 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
    }

    .welcome-title-block h1 {
      margin: 0;
      font-size: 22px;
      font-weight: 700;
    }

    .welcome-subtitle {
      margin: 4px 0 0;
      font-size: 13px;
      color: var(--text-sub);
    }

    .welcome-form {
      margin-top: 6px;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .field-label {
      font-size: 13px;
      margin-bottom: 4px;
    }

    .field-label span {
      font-size: 12px;
      color: var(--text-sub);
      margin-left: 3px;
    }

    .welcome-input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 9px 14px;
      font-size: 14px;
      outline: none;
      background: #fbfcff;
    }

    .welcome-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(93, 138, 255, 0.25);
      background: #ffffff;
    }

    .lang-pill-row {
      display: inline-flex;
      gap: 6px;
      padding: 4px;
      border-radius: 999px;
      background: #f7f8ff;
      border: 1px solid #ecf0ff;
    }

    .lang-pill {
      border-radius: 999px;
      border: none;
      background: transparent;
      padding: 4px 10px;
      font-size: 13px;
      cursor: pointer;
      color: var(--text-sub);
    }

    .lang-pill.active {
      background: #ffffff;
      box-shadow: 0 0 0 1px rgba(93, 138, 255, 0.7);
      color: var(--accent-blue);
      font-weight: 600;
    }

    .welcome-btn-row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-top: 4px;
    }

    .btn-primary {
      border-radius: 999px;
      border: none;
      padding: 9px 20px;
      font-size: 14px;
      cursor: pointer;
      background: linear-gradient(135deg, var(--primary), #7da2ff);
      color: #fff;
      box-shadow: 0 10px 22px rgba(93, 138, 255, 0.45);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .btn-primary:hover {
      filter: brightness(1.03);
      transform: translateY(-1px);
    }

    .welcome-tip {
      font-size: 11px;
      color: var(--text-sub);
      margin-top: 2px;
    }

    @media (max-width: 720px) {
      .welcome-card {
        padding: 22px 18px 20px;
      }
    }

    /* ========== ä¸»å¸ƒå±€ï¼šå·¦ä¾§å¯¼èˆª + å³ä¾§å†…å®¹ ========== */
    .layout {
      margin-top: 80px; /* é¿å…æ¬¢è¿å¡ç‰‡å…³é—­å‰çœ‹åˆ° */
      display: flex;
      gap: 16px;
      min-height: 520px;
    }

    .sidebar {
      width: 230px;
      min-width: 210px;
      border-radius: 20px;
      background: linear-gradient(160deg, rgba(255, 248, 227, 0.98), rgba(240, 246, 255, 0.98));
      border: 1px solid rgba(255, 230, 184, 0.85);
      box-shadow: 0 14px 40px rgba(216, 189, 211, 0.45);
      padding: 16px 14px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      position: relative;
      overflow: hidden;
    }

    .sidebar::before {
      content: "";
      position: absolute;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.9) 0, rgba(255, 255, 255, 0) 70%);
      top: -40px;
      right: -30px;
      opacity: 0.7;
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 8px;
      position: relative;
      z-index: 1;
    }

    .sidebar-logo {
      width: 36px;
      height: 36px;
      border-radius: 16px;
      background: radial-gradient(circle at 30% 20%, #fff, #ffe9b3 60%, #c5d8ff 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
    }

    .sidebar-title {
      font-size: 15px;
      font-weight: 700;
    }

    .sidebar-sub {
      font-size: 11px;
      color: var(--text-sub);
    }

    .sidebar-user {
      margin-top: 6px;
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.95);
      border: 1px dashed rgba(255, 212, 168, 0.9);
      font-size: 12px;
      display: flex;
      flex-direction: column;
      gap: 2px;
      position: relative;
      z-index: 1;
    }

    .sidebar-user strong {
      font-size: 13px;
    }

    .sidebar-lang-indicator {
      font-size: 11px;
      color: var(--accent-blue);
    }

    .nav-section-label {
      margin-top: 4px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-sub);
      opacity: 0.9;
    }

    .nav-btns {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 4px;
      position: relative;
      z-index: 1;
    }

    .nav-btn {
      border-radius: 999px;
      border: none;
      padding: 7px 11px;
      font-size: 13px;
      text-align: left;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.9);
      color: var(--text-main);
      border: 1px solid rgba(255, 230, 184, 0.8);
    }

    .nav-btn span.icon {
      font-size: 16px;
    }

    .nav-btn.active {
      background: linear-gradient(135deg, var(--primary), #7da2ff);
      color: #ffffff;
      border-color: transparent;
      box-shadow: 0 10px 22px rgba(93, 138, 255, 0.55);
    }

    .nav-btn.active .icon {
      transform: translateY(-0.5px);
    }

    .nav-footer {
      margin-top: auto;
      font-size: 11px;
      color: var(--text-sub);
      opacity: 0.9;
      z-index: 1;
    }

    .nav-logout {
      margin-top: 6px;
      font-size: 11px;
      color: #ff6b81;
      cursor: pointer;
      text-decoration: underline;
    }

    /* å³ä¾§å†…å®¹åŒºåŸŸ */
    .content {
      flex: 1;
      border-radius: 24px;
      background: rgba(255, 255, 255, 0.96);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(227, 233, 248, 0.8);
      padding: 16px 18px 18px;
      min-width: 0;
    }

    .content-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .content-title-block h2 {
      margin: 0;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .content-title-block p {
      margin: 3px 0 0;
      font-size: 12px;
      color: var(--text-sub);
    }

    .chip-soft {
      font-size: 11px;
      padding: 2px 7px;
      border-radius: 999px;
      background: var(--accent-blue-soft);
      color: var(--accent-blue);
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    /* ========= æŸ¥è¯¢é¡µæ ·å¼ ========= */
    .search-row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .search-input {
      flex: 1;
      min-width: 180px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 8px 12px;
      font-size: 14px;
      outline: none;
      background: #fbfcff;
    }

    .search-input:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 2px rgba(93, 138, 255, 0.25);
      background: #ffffff;
    }

    .btn-soft {
      border-radius: 999px;
      border: none;
      padding: 8px 13px;
      font-size: 13px;
      cursor: pointer;
      background: #f4f6ff;
      color: var(--accent-blue);
      border: 1px solid #dfe7ff;
    }

    .btn-soft:hover {
      background: #e7ecff;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }

    .food-chip {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 4px 10px;
      font-size: 12px;
      color: var(--text-sub);
      background: #fafbff;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .food-chip:hover {
      border-color: var(--accent-blue);
      color: var(--accent-blue);
      background: #f1f4ff;
    }

    .food-summary {
      font-size: 14px;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .result-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin-top: 6px;
    }

    .stat-box {
      border-radius: 16px;
      padding: 10px 12px;
      background: #f9fbff;
      border: 1px solid #e2e8ff;
      font-size: 12px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .stat-label {
      color: var(--text-sub);
      font-size: 11px;
    }

    .stat-value {
      font-weight: 600;
      font-size: 14px;
    }

    .small-badge {
      font-size: 11px;
      padding: 1px 6px;
      border-radius: 999px;
      background: #eef1ff;
      color: var(--accent-blue);
      margin-left: 4px;
    }

    .tips {
      font-size: 12px;
      line-height: 1.5;
    }

    .recipes {
      margin-top: 8px;
      font-size: 12px;
    }

    .recipes h4 {
      margin: 0 0 4px;
      font-size: 12px;
    }

    .recipes ul {
      margin: 2px 0 0;
      padding-left: 18px;
    }

    .empty-hint {
      font-size: 13px;
      color: var(--text-sub);
      margin-top: 6px;
    }

    /* ========= å°æ¸¸æˆ åŒºåŸŸ ========= */
    .game-top-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .game-pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 9px;
      border-radius: 999px;
      background: var(--accent-blue-soft);
      color: var(--accent-blue);
      font-size: 12px;
    }

    .game-info {
      font-size: 12px;
      color: var(--text-sub);
    }

    .btn-game {
      border-radius: 999px;
      border: none;
      padding: 7px 14px;
      font-size: 13px;
      cursor: pointer;
      background: linear-gradient(135deg, var(--primary), #7da2ff);
      color: #fff;
      box-shadow: 0 10px 20px rgba(93, 138, 255, 0.45);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .game-board {
      margin-top: 10px;
      background: #fafbff;
      border-radius: 18px;
      border: 1px solid #e1e6ff;
      padding: 10px;
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 6px;
      max-width: 480px;
    }

    .tile {
      aspect-ratio: 1 / 1;
      border-radius: 12px;
      background: #ffffff;
      border: 1px solid #e0e5ff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(193, 206, 255, 0.35);
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.08s;
    }

    .tile.selected {
      border-color: var(--accent-blue);
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(118, 165, 255, 0.6);
      background: #f1f4ff;
    }

    .tile.matched {
      visibility: hidden;
    }

    .game-status-row {
      margin-top: 8px;
      font-size: 12px;
      color: var(--text-sub);
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }

    .badge-soft {
      padding: 2px 8px;
      border-radius: 999px;
      background: #f4f7ff;
      border: 1px solid #dde4ff;
      font-size: 11px;
    }

    /* ========= æ¸¸æˆè¯´æ˜ & é€šå…³å¼¹çª— ========= */
    .game-modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.18);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .game-modal {
      width: 360px;
      max-width: 90vw;
      background: #ffffff;
      border-radius: 22px;
      padding: 18px 20px 16px;
      box-shadow: 0 18px 40px rgba(93, 138, 255, 0.35);
    }

    .game-modal h3 {
      margin: 0 0 8px;
      font-size: 16px;
    }

    .game-modal p {
      margin: 0;
      font-size: 13px;
      color: var(--text-sub);
      line-height: 1.55;
    }

    .game-modal p ul {
      margin: 4px 0 0;
      padding-left: 18px;
    }

    .game-modal-actions {
      margin-top: 12px;
      display: flex;
      justify-content: flex-end;
      gap: 8px;
    }

    .btn-ghost {
      border-radius: 999px;
      border: 1px solid #e1e6ff;
      background: #f7f8ff;
      padding: 6px 12px;
      font-size: 12px;
      cursor: pointer;
      color: var(--text-sub);
    }

    /* ========= ç»Ÿè®¡é¡µ ========= */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      gap: 8px;
      margin-top: 6px;
      font-size: 12px;
    }

    .stat-card {
      border-radius: 16px;
      padding: 9px 11px;
      background: #f9fbff;
      border: 1px solid #e1e6ff;
    }

    .stat-card .stat-label {
      font-size: 11px;
      color: var(--text-sub);
    }

    .stat-card .stat-value {
      font-size: 14px;
      font-weight: 600;
    }

    .ranking-section {
      margin-top: 20px;
      padding: 15px;
      background: #f9fbff;
      border-radius: 16px;
      border: 1px solid #e1e6ff;
    }

    .ranking-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      border-bottom: 1px solid #e1e6ff;
      padding-bottom: 10px;
    }

    .ranking-tab {
      border: none;
      background: none;
      padding: 6px 12px;
      font-size: 13px;
      cursor: pointer;
      color: var(--text-sub);
      border-radius: 20px;
    }

    .ranking-tab.active {
      background: var(--accent-blue-soft);
      color: var(--accent-blue);
      font-weight: 600;
    }

    .ranking-content {
      display: none;
    }

    .ranking-content.active {
      display: block;
    }

    .ranking-list {
      list-style: none;
      padding: 0;
      margin: 10px 0 0;
      font-size: 13px;
    }

    .ranking-list li {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px dashed #e1e6ff;
    }

    .ranking-list li:last-child {
      border-bottom: none;
    }

    .rank-number {
      display: inline-block;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--accent-yellow-soft);
      color: var(--accent-yellow);
      text-align: center;
      line-height: 24px;
      margin-right: 10px;
      font-weight: bold;
    }

    .my-rank-box {
      margin-top: 15px;
      padding: 12px;
      background: white;
      border-radius: 12px;
      border: 1px solid #e1e6ff;
    }

    .my-rank-box h4 {
      margin: 0 0 8px 0;
      font-size: 14px;
    }

    .my-rank-item {
      display: flex;
      justify-content: space-between;
      padding: 4px 0;
    }

    footer {
      margin-top: 16px;
      font-size: 11px;
      text-align: center;
      color: var(--text-sub);
    }

    @media (max-width: 860px) {
      .layout {
        flex-direction: column;
      }
      .sidebar {
        flex-direction: row;
        align-items: center;
        width: 100%;
        min-height: 84px;
        border-radius: 18px;
      }
      .sidebar-header {
        flex: 1;
      }
      .sidebar-user,
      .nav-section-label,
      .nav-footer {
        display: none;
      }
      .nav-btns {
        flex-direction: row;
        flex: 1;
        justify-content: flex-end;
      }
      .nav-btn {
        font-size: 12px;
        padding-inline: 10px;
      }
      .content {
        margin-top: 4px;
      }
    }
  </style>
</head>
<body>
<div class="app">
  <!-- ===== æ¬¢è¿é¡µï¼šè¯­è¨€é€‰æ‹© + ç™»å½• ===== -->
  <div class="welcome-overlay" id="welcomeOverlay">
    <div class="welcome-card">
      <div class="welcome-tag">mini web</div>
      <div class="welcome-header">
        <div class="welcome-icon">ğŸ¥—</div>
        <div class="welcome-title-block">
          <h1 id="welcomeTitle">å¥åº·é¥®é£Ÿé€‰æ‹©åŠ©æ‰‹</h1>
          <p class="welcome-subtitle" id="welcomeSubtitle">
            ç®€å•è®°å½•ä½ çš„é£Ÿç‰©æŸ¥è¯¢ï¼Œè·å¾—æ›´å¥åº·çš„é¥®é£Ÿå»ºè®®ï¼Œè¿˜å¯ä»¥é€šè¿‡å°æ¸¸æˆå­¦ä¹ ä¸€ç‚¹è¥å…»çŸ¥è¯†ã€‚
          </p>
        </div>
      </div>

      <div class="welcome-form">
        <!-- è¯­è¨€åœ¨ä¸Š -->
        <div>
          <div class="field-label" id="labelLang">è¯­è¨€ / Language</div>
          <div class="lang-pill-row">
            <button type="button" class="lang-pill active" data-lang="zh" id="langBtnZh">CN ä¸­æ–‡</button>
            <button type="button" class="lang-pill" data-lang="kr" id="langBtnKo">KR í•œêµ­ì–´</button>
          </div>
        </div>

        <!-- æ˜µç§°åœ¨ä¸‹ -->
        <div>
          <div class="field-label" id="labelName">
            æ˜µç§° / å­¦å· <span id="labelNameHint">ä¾‹å¦‚ï¼šå°ç•ªèŒ„åŒå­¦ã€2025xxx</span>
          </div>
          <input id="welcomeNameInput" class="welcome-input"
                 placeholder="è¯·è¾“å…¥ä½ çš„æ˜µç§°æˆ–å­¦å·" />
        </div>

        <div class="welcome-btn-row">
          <button class="btn-primary" id="welcomeStartBtn">
            <span>âœ¨</span><span id="btnStartText">è¿›å…¥å°åŠ©æ‰‹</span>
          </button>
        </div>

        <div class="welcome-tip" id="welcomeTip">
          æç¤ºï¼šç³»ç»Ÿä¼šç”¨ä½ å¡«å†™çš„æ˜µç§°è®°å½•æŸ¥è¯¢è¡Œä¸ºå’Œå°æ¸¸æˆæˆç»©ï¼Œä»…ç”¨äºè¯¾å ‚å±•ç¤ºã€‚
        </div>
      </div>
    </div>
  </div>

  <!-- ===== ä¸»å¸ƒå±€ï¼šå·¦ä¾§å¯¼èˆª + å³ä¾§å†…å®¹ ===== -->
  <div class="layout" id="mainLayout" style="opacity:0.25;pointer-events:none;">
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">ğŸ¥—</div>
        <div>
          <div class="sidebar-title" id="sideTitle">å¥åº·é¥®é£ŸåŠ©æ‰‹</div>
          <div class="sidebar-sub" id="sideSubtitle">Food Â· Stats Â· Game</div>
        </div>
      </div>

      <div class="sidebar-user">
        <div id="sideUserLine"><strong>è®¿å®¢</strong></div>
        <div class="sidebar-lang-indicator" id="sideLangLine">å½“å‰è¯­è¨€ï¼šä¸­æ–‡</div>
      </div>

      <div class="nav-section-label" id="navSectionLabel">åŠŸèƒ½ / Features</div>
      <div class="nav-btns">
        <button class="nav-btn active" data-target="section-search" id="navSearch">
          <span class="icon">ğŸ”</span><span id="navSearchText">é£Ÿç‰©æŸ¥è¯¢</span>
        </button>
        <button class="nav-btn" data-target="section-game" id="navGame">
          <span class="icon">ğŸ®</span><span id="navGameText">å°æ¸¸æˆ</span>
        </button>
        <button class="nav-btn" data-target="section-stats" id="navStats">
          <span class="icon">ğŸ“Š</span><span id="navStatsText">ç»Ÿè®¡ä¸æ’è¡Œæ¦œ</span>
        </button>
      </div>

      <div class="nav-footer">
        <div id="navFooterText">å°å°ç½‘é¡µå®éªŒ Â· ä»…è¯¾å ‚å±•ç¤ºä½¿ç”¨ã€‚</div>
        <div class="nav-logout" id="navLogout">é‡æ–°ç™»å½• / ì–¸ì–´ ë‹¤ì‹œ ì„ íƒ</div>
      </div>
    </aside>

    <main class="content">
      <!-- é¡¶éƒ¨æ ‡é¢˜ï¼Œæ ¹æ®å½“å‰ tab & è¯­è¨€åˆ‡æ¢ -->
      <div class="content-header">
        <div class="content-title-block">
          <h2 id="contentTitle"><span>ğŸ”</span><span id="contentTitleText">é£Ÿç‰©æŸ¥è¯¢</span></h2>
          <p id="contentSubtitle">
            è¾“å…¥å¸¸è§é£Ÿç‰©åç§°ï¼ŒæŸ¥çœ‹çƒ­é‡ä¸è¥å…»ç»“æ„ï¼Œå¹¶å¾—åˆ°ç®€å•å¥åº·å»ºè®®ã€‚
          </p>
        </div>
        <div class="chip-soft" id="contentChip">Firebase + ç»Ÿè®¡å†³ç­– mini demo</div>
      </div>

      <!-- ========== Section 1ï¼šé£Ÿç‰©æŸ¥è¯¢ ========== -->
      <section class="section active" id="section-search">
        <div class="search-row">
          <input id="foodInput" class="search-input" placeholder="è¾“å…¥é£Ÿç‰©ï¼Œå¦‚ï¼šè‹¹æœ / ç‰›å¥¶ / é¸¡èƒ¸è‚‰ / æ³¡èœ / ê¹€ì¹˜" />
          <button class="btn-soft" id="searchBtn">æœç´¢</button>
        </div>

        <div class="chip-row">
          <div class="food-chip" data-key="è‹¹æœ">ğŸ è‹¹æœ</div>
          <div class="food-chip" data-key="ç±³é¥­">ğŸš ç±³é¥­</div>
          <div class="food-chip" data-key="ç‰›å¥¶">ğŸ¥› ç‰›å¥¶</div>
          <div class="food-chip" data-key="é¸¡èƒ¸è‚‰">ğŸ— é¸¡èƒ¸è‚‰</div>
          <div class="food-chip" data-key="èƒ¡èåœ">ğŸ¥• èƒ¡èåœ</div>
          <div class="food-chip" data-key="å¯ä¹">ğŸ¥¤ å¯ä¹</div>
        </div>

        <div id="foodResultArea"></div>

        <div id="foodDetail" style="display:none;">
          <div class="result-grid">
            <div class="stat-box">
              <span class="stat-label" id="calorieLabel">çƒ­é‡</span>
              <span class="stat-value" id="calorieValue">120 kcal</span>
            </div>

            <div class="stat-box">
              <span class="stat-label" id="proteinLabel">è›‹ç™½è´¨</span>
              <span class="stat-value" id="proteinValue">6 g</span>
            </div>

            <div class="stat-box">
              <span class="stat-label" id="fatLabel">è„‚è‚ª</span>
              <span class="stat-value" id="fatValue">1.3 g</span>
            </div>

            <div class="stat-box">
              <span class="stat-label" id="carbLabel">ç¢³æ°´åŒ–åˆç‰©</span>
              <span class="stat-value" id="carbValue">20 g</span>
            </div>
          </div>

          <div class="tips" id="healthTip" style="margin-top:10px;">
            ğŸ‘ å»ºè®®ï¼šæ°´æœå¯Œå«ç»´ç”Ÿç´ ï¼Œå¯ä½œä¸ºåŠ é¤ï¼Œä½†è¦é¿å…ä¸€æ¬¡åƒå¤ªå¤šã€‚
          </div>

          <div class="recipes">
            <h4 id="recipeTitle">æ¨èæ­é…ï¼š</h4>
            <ul id="recipeList">
              <li>ğŸ è‹¹æœ + ğŸ¥› ç‰›å¥¶ï¼ˆå¢å¼ºé¥±è…¹æ„Ÿï¼‰</li>
              <li>ğŸ è‹¹æœ + ğŸ¥œ åšæœï¼ˆç»´ç”Ÿç´  + å¥åº·è„‚è‚ªï¼‰</li>
            </ul>
          </div>
        </div>

        <div class="empty-hint" id="emptyHint" style="display:none;">æœªæŸ¥è¯¢åˆ°è¯¥é£Ÿç‰©ï¼Œè¯·å°è¯•å…¶ä»–å…³é”®è¯ã€‚</div>
      </section>

      <!-- ========== Section 2ï¼šå°æ¸¸æˆ ========== -->
      <section class="section" id="section-game">
        <div class="game-top-row">
          <span class="game-pill" id="gameLevelText">ç¬¬ 1 å…³ Â· åˆé˜¶</span>
          <span class="game-info" id="gameInfoText">ç‚¹å‡»ä¸¤ä¸ªç›¸åŒé£Ÿç‰©å³å¯æ¶ˆé™¤ Â· ç‚¹é”™æ‰£ 3 ç§’</span>
          <button class="btn-soft" id="gameHelpBtn">æ¸¸æˆè¯´æ˜</button>
          <button class="btn-game" id="gameStartBtn">å¼€å§‹æ¸¸æˆ</button>
        </div>

        <div class="game-status-row">
          <span class="badge-soft" id="timerText">â± 60 ç§’</span>
          <span class="badge-soft" id="matchCountText">å·²æ¶ˆé™¤ï¼š0 ç»„</span>
        </div>

        <div class="game-board" id="gameBoard"></div>
      </section>

      <!-- ========== Section 3ï¼šç»Ÿè®¡ä¸æ’è¡Œæ¦œ ========== -->
      <section class="section" id="section-stats">
        <h2 class="section-title" id="statsTitle">ç»Ÿè®¡ä¸æ’è¡Œæ¦œ</h2>
        <p class="section-desc" id="statsDesc">
          æ ¹æ®ä½ åœ¨æœ¬æ¬¡ä½¿ç”¨ä¸­çš„é£Ÿç‰©æŸ¥è¯¢ç»“æœï¼Œç»™å‡ºç»Ÿè®¡æŒ‡æ ‡å’Œæ’è¡Œæ¦œã€‚
        </p>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label" id="statSearchLabel">ç´¯è®¡æŸ¥è¯¢æ¬¡æ•°</div>
            <div class="stat-value" id="statSearchCount">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label" id="statAvgCalLabel">å¹³å‡çƒ­é‡ï¼ˆæŸ¥è¯¢é£Ÿç‰©ï¼‰</div>
            <div class="stat-value" id="statAvgCal">0 kcal</div>
          </div>
          <div class="stat-card">
            <div class="stat-label" id="statHealthyLabel">å¥åº·é£Ÿç‰©æŸ¥è¯¢</div>
            <div class="stat-value" id="statHealthyCount">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label" id="statWarningLabel">é«˜çƒ­é‡é£Ÿç‰©æŸ¥è¯¢</div>
            <div class="stat-value" id="statWarningCount">0</div>
          </div>
        </div>

        <!-- æ’è¡Œæ¦œåŒºåŸŸ -->
        <div class="ranking-section">
          <div class="ranking-tabs">
            <button class="ranking-tab active" data-ranking="food">é£Ÿå“æœç´¢æ’è¡Œæ¦œ</button>
            <button class="ranking-tab" data-ranking="game">å°æ¸¸æˆæ’è¡Œæ¦œ</button>
          </div>
          
          <!-- é£Ÿå“æœç´¢æ’è¡Œæ¦œ -->
          <div class="ranking-content active" id="foodRanking">
            <h4 style="margin: 0 0 10px 0; font-size: 14px; color: var(--text-main);">æœ€å¸¸æœç´¢çš„é£Ÿç‰© TOP 10</h4>
            <ul class="ranking-list" id="foodRankingList">
              <li class="empty-hint">è¿˜æ²¡æœ‰æœç´¢æ•°æ®</li>
            </ul>
          </div>
          
          <!-- å°æ¸¸æˆæ’è¡Œæ¦œ -->
          <div class="ranking-content" id="gameRanking">
            <h4 style="margin: 0 0 10px 0; font-size: 14px; color: var(--text-main);">å°æ¸¸æˆæœ€é«˜åˆ† TOP 10</h4>
            <ul class="ranking-list" id="gameRankingList">
              <li class="empty-hint">è¿˜æ²¡æœ‰æ¸¸æˆæ•°æ®</li>
            </ul>
          </div>
          
          <!-- æˆ‘çš„æ’å -->
          <div class="my-rank-box">
            <h4>æˆ‘çš„æ’å</h4>
            <div class="my-rank-item">
              <span>é£Ÿå“æœç´¢æ’åï¼š</span>
              <span id="myFoodRank" style="color: var(--accent-blue); font-weight: 600;">æš‚æ— </span>
            </div>
            <div class="my-rank-item">
              <span>å°æ¸¸æˆæ’åï¼š</span>
              <span id="myGameRank" style="color: var(--accent-blue); font-weight: 600;">æš‚æ— </span>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div> <!-- /main-layout -->
</div>   <!-- /app-wrapper -->

<!-- æ¸¸æˆè¯´æ˜ / é€šå…³å¼¹çª— -->
<div class="game-modal-overlay" id="gameModal">
  <div class="game-modal">
    <h3 id="gameModalTitle">å°æ¸¸æˆè¯´æ˜</h3>
    <p id="gameModalBody">
      ...
    </p>
    <div class="game-modal-actions">
      <button class="btn-ghost" id="gameModalSecondaryBtn">ç¨åå†çœ‹</button>
      <button class="btn-game" id="gameModalPrimaryBtn">å¼€å§‹ç¬¬ 1 å…³</button>
    </div>
  </div>
</div>

<!-- è½»é‡æç¤ºå¼¹çª—ï¼šç”¨äºå±•ç¤ºè¥å…»æç¤º / æ‰£æ—¶æç¤º -->
<div id="toast"
     style="position:fixed;left:50%;bottom:32px;transform:translateX(-50%) translateY(16px);
            background:rgba(255,255,255,0.97);color:#2d3436;padding:8px 16px;border-radius:999px;
            font-size:12px;opacity:0;pointer-events:none;transition:opacity .25s,transform .25s;
            z-index:50;border:1px solid #e3e7ff;box-shadow:0 10px 30px rgba(93,138,255,0.25);">
</div>

<script>
(function () {
  'use strict';

  /* ===================== åŸºç¡€å¤šè¯­è¨€æ–‡æœ¬ ===================== */
  const TEXTS = {
    zh: {
      /* æ¬¢è¿é¡µ */
      welcomeTitle: 'å¥åº·é¥®é£Ÿé€‰æ‹©åŠ©æ‰‹',
      welcomeSubtitle: 'ç®€å•è®°å½•ä½ çš„é£Ÿç‰©æŸ¥è¯¢ï¼Œè·å¾—æ›´å¥åº·çš„é¥®é£Ÿå»ºè®®ï¼Œè¿˜å¯ä»¥é€šè¿‡å°æ¸¸æˆå­¦ä¹ ä¸€ç‚¹è¥å…»çŸ¥è¯†ã€‚',
      labelLang: 'è¯­è¨€ / Language',
      labelName: 'æ˜µç§° / å­¦å·',
      labelNameHint: 'ä¾‹å¦‚ï¼šå°ç•ªèŒ„åŒå­¦ã€2025xxx',
      welcomeInputPlaceholder: 'è¯·è¾“å…¥ä½ çš„æ˜µç§°æˆ–å­¦å·',
      btnStartText: 'è¿›å…¥å°åŠ©æ‰‹',
      welcomeTip: 'æç¤ºï¼šç³»ç»Ÿä¼šç”¨ä½ å¡«å†™çš„æ˜µç§°è®°å½•æŸ¥è¯¢è¡Œä¸ºå’Œå°æ¸¸æˆæˆç»©ï¼Œä»…ç”¨äºè¯¾å ‚å±•ç¤ºã€‚',

      /* ä¾§è¾¹æ  & é¡¶éƒ¨ */
      sideTitle: 'å¥åº·é¥®é£ŸåŠ©æ‰‹',
      sideSubtitle: 'Food Â· Stats Â· Game',
      sideLangText: 'å½“å‰è¯­è¨€ï¼šä¸­æ–‡',
      navSectionLabel: 'åŠŸèƒ½ / Features',
      navFooterText: 'å°å°ç½‘é¡µå®éªŒ Â· ä»…è¯¾å ‚å±•ç¤ºä½¿ç”¨ã€‚',
      navLogout: 'é‡æ–°ç™»å½• / ì–¸ì–´ ë‹¤ì‹œé€‰æ‹©',

      navSearch: 'é£Ÿç‰©æŸ¥è¯¢',
      navGame: 'å°æ¸¸æˆ',
      navStats: 'ç»Ÿè®¡ä¸æ’è¡Œæ¦œ',

      /* é¡¶éƒ¨æ¯ä¸ª section æ ‡é¢˜å’Œè¯´æ˜ */
      searchTitle: 'é£Ÿç‰©æŸ¥è¯¢',
      searchDesc: 'è¾“å…¥å¸¸è§é£Ÿç‰©åç§°ï¼ŒæŸ¥çœ‹çƒ­é‡ä¸è¥å…»ç»“æ„ï¼Œå¹¶å¾—åˆ°ç®€å•å¥åº·å»ºè®®ã€‚',
      gameTitle: 'å°æ¸¸æˆ',
      gameDesc: 'é€šè¿‡ç®€åŒ–ç‰ˆè¿è¿çœ‹å°æ¸¸æˆï¼Œé¡ºä¾¿è®°ä½ä¸€äº›åŸºç¡€çš„è¥å…»çŸ¥è¯†ã€‚',
      statsTitle: 'ç»Ÿè®¡ä¸æ’è¡Œæ¦œ',
      statsDesc: 'æ ¹æ®ä½ åœ¨æœ¬æ¬¡ä½¿ç”¨ä¸­çš„é£Ÿç‰©æŸ¥è¯¢ç»“æœï¼Œç»™å‡ºç»Ÿè®¡æŒ‡æ ‡å’Œæ’è¡Œæ¦œã€‚',

      /* æŸ¥è¯¢é¡µ */
      searchPlaceholder: 'è¾“å…¥é£Ÿç‰©ï¼Œå¦‚ï¼šè‹¹æœ / ç‰›å¥¶ / é¸¡èƒ¸è‚‰ / æ³¡èœ / ê¹€ì¹˜',
      statSearchLabel: 'ç´¯è®¡æŸ¥è¯¢æ¬¡æ•°',
      statAvgCalLabel: 'å¹³å‡çƒ­é‡ï¼ˆæŸ¥è¯¢é£Ÿç‰©ï¼‰',
      statHealthyLabel: 'å¥åº·é£Ÿç‰©æŸ¥è¯¢',
      statWarningLabel: 'é«˜çƒ­é‡é£Ÿç‰©æŸ¥è¯¢',
      
      /* æ¸¸æˆé¡µ */
      gameLevel1: 'ç¬¬ 1 å…³ Â· åˆé˜¶',
      gameLevel2: 'ç¬¬ 2 å…³ Â· è¿›é˜¶',
      gameInfo: 'ç‚¹å‡»ä¸¤ä¸ªç›¸åŒé£Ÿç‰©å³å¯æ¶ˆé™¤ Â· ç‚¹é”™æ‰£ 3 ç§’',
      gameStart: 'å¼€å§‹æ¸¸æˆ',
      gameHelp: 'æ¸¸æˆè¯´æ˜',
      timerPrefix: 'â± ',
      timerSuffix: ' ç§’',
      matchPrefix: 'å·²æ¶ˆé™¤ï¼š',
      matchSuffix: ' ç»„',

      /* å¼¹çª— & æœºå…³ */
      gameIntroTitle: 'æ€ä¹ˆç©ï¼Ÿ',
      gameIntroBody:
        '<ul>' +
        '<li>ç‚¹å‡»ã€Œå¼€å§‹æ¸¸æˆã€åï¼Œä¼šå‡ºç° 24 å¼ éšæœºæ’åˆ—çš„é£Ÿç‰©å¡ç‰‡ã€‚</li>' +
        '<li>é€‰æ‹©<strong>ä¸¤ä¸ªç›¸åŒ</strong>çš„é£Ÿç‰©å›¾æ ‡å³å¯æ¶ˆé™¤ä¸€å¯¹ã€‚</li>' +
        '<li>å¦‚æœé€‰é”™äº†ï¼Œä¼šæ‰£ <strong>3 ç§’</strong> æ¸¸æˆæ—¶é—´ã€‚</li>' +
        '<li>ç¬¬ 1 å…³æœ‰ 60 ç§’ï¼Œç¬¬ 2 å…³åªæœ‰ 45 ç§’ï¼Œæ›´è€ƒéªŒé€Ÿåº¦å’Œè§‚å¯ŸåŠ›ã€‚</li>' +
        '</ul>',
      introPrimary: 'å¼€å§‹ç¬¬ 1 å…³',
      introSecondary: 'å…ˆçœ‹çœ‹ç•Œé¢',

      wrongPenalty: 'é…å¯¹å¤±è´¥ï¼Œæœ¬æ¬¡æ‰£3ç§’ï¼Œè¯·é€‰æ‹©ä¸¤ä¸ªç›¸åŒçš„é£Ÿç‰©ï½',

      levelClearTitle: 'ç¬¬ 1 å…³å®Œæˆï¼',
      levelClearBody: 'ä½ å·²ç»æˆåŠŸé…å¯¹å®Œæœ¬å…³æ‰€æœ‰é£Ÿç‰©ï¼Œæ¥ä¸‹æ¥å¯ä»¥æŒ‘æˆ˜ç¬¬ 2 å…³ï¼šæ—¶é—´æ›´çŸ­ï¼ŒèŠ‚å¥æ›´å¿«ã€‚',
      levelClearPrimary: 'è¿›å…¥ç¬¬ 2 å…³',
      levelClearSecondary: 'ç¨åå†å»',

      allClearTitle: 'æ­å–œé€šå…³ï¼',
      allClearBody: 'ä½ å·²ç»å®Œæˆæ‰€æœ‰å…³å¡ï¼Œå¯ä»¥åœ¨ç»Ÿè®¡é¡µé¢çœ‹çœ‹è‡ªå·±çš„è¡¨ç°ï¼Œæˆ–è€…é‡æ–°ä»ç¬¬ 1 å…³å¼€å§‹æŒ‘æˆ˜ã€‚',
      allClearPrimary: 'å¥½çš„',
      allClearSecondary: 'å…³é—­',

      /* å…¶ä»– */
      recipeTitle: 'æ¨èæ­é…ï¼š',
      emptyHint: 'æœªæŸ¥è¯¢åˆ°è¯¥é£Ÿç‰©ï¼Œè¯·å°è¯•å…¶ä»–å…³é”®è¯ã€‚'
    },
    kr: {
      /* æ¬¢è¿é¡µ */
      welcomeTitle: 'ê±´ê°• ì‹ë‹¨ ì„ íƒ ë„ìš°ë¯¸',
      welcomeSubtitle: 'ìì£¼ ë¨¹ëŠ” ìŒì‹ì„ ê°€ë³ê²Œ ì¡°íšŒí•˜ê³ , ë” ê±´ê°•í•œ ì„ íƒì„ ë„ì™€ì£¼ëŠ” ë¯¸ë‹ˆ ì›¹ì…ë‹ˆë‹¤. ê²Œì„ì„ í•˜ë©´ì„œ ì˜ì–‘ ì§€ì‹ë„ ë°°ì›Œ ë³´ì„¸ìš”.',
      labelLang: 'ì–¸ì–´ / Language',
      labelName: 'ë‹‰ë„¤ì„ / í•™ë²ˆ',
      labelNameHint: 'ì˜ˆ: ì‘ì€í† ë§ˆí† , 2025xxx',
      welcomeInputPlaceholder: 'ë‹‰ë„¤ì„ ë˜ëŠ” í•™ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”',
      btnStartText: 'ì‹œì‘í•˜ê¸°',
      welcomeTip: 'ì•ˆë‚´: ì…ë ¥í•œ ë‹‰ë„¤ì„ì€ ìˆ˜ì—… ì‹œê°„ ì˜ˆì‹œ(ì¡°íšŒ ê¸°ë¡, ê²Œì„ ê²°ê³¼)ì—ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.',

      /* ä¾§è¾¹æ  & é¡¶éƒ¨ */
      sideTitle: 'ê±´ê°• ì‹ë‹¨ ë„ìš°ë¯¸',
      sideSubtitle: 'Food Â· Stats Â· Game',
      sideLangText: 'í˜„ì¬ ì–¸ì–´: í•œêµ­ì–´',
      navSectionLabel: 'ê¸°ëŠ¥ / Features',
      navFooterText: 'ìˆ˜ì—…ìš© ë¯¸ë‹ˆ ì›¹ ì˜ˆì‹œì…ë‹ˆë‹¤.',
      navLogout: 'ë‹¤ì‹œ ë¡œê·¸ì¸ / ì–¸ì–´ ë³€ê²½',

      navSearch: 'ì‹í’ˆ ì¡°íšŒ',
      navGame: 'ë¯¸ë‹ˆ ê²Œì„',
      navStats: 'í†µê³„ Â· ë­í‚¹',

      /* é¡¶éƒ¨æ¯ä¸ª section æ ‡é¢˜å’Œè¯´æ˜ */
      searchTitle: 'ì‹í’ˆ ì¡°íšŒ',
      searchDesc: 'ìì£¼ ë¨¹ëŠ” ì‹í’ˆ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì¹¼ë¡œë¦¬ì™€ ì˜ì–‘ ì •ë³´ë¥¼ ê°„ë‹¨íˆ í™•ì¸í•´ ë³´ì„¸ìš”.',
      gameTitle: 'ë¯¸ë‹ˆ ë§¤ì¹­ ê²Œì„',
      gameDesc: 'ê°™ì€ ìŒì‹ ì•„ì´ì½˜ì„ ì—°ê²°í•˜ëŠ” ê°„ë‹¨í•œ ê²Œì„ìœ¼ë¡œ ì˜ì–‘ ì •ë³´ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ìµí˜€ ë³´ì„¸ìš”.',
      statsTitle: 'í†µê³„ì™€ ìˆœìœ„',
      statsDesc: 'ì´ë²ˆ ì‚¬ìš© ë™ì•ˆì˜ ì¡°íšŒ ê¸°ë¡ì„ ë°”íƒ•ìœ¼ë¡œ ê°„ë‹¨í•œ ì§€í‘œì™€ ìˆœìœ„ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.',

      /* æŸ¥è¯¢é¡µ */
      searchPlaceholder: 'ì‚¬ê³¼ / ìš°ìœ  / ë‹­ê°€ìŠ´ì‚´ / ê¹€ì¹˜ ë“± ì‹í’ˆì„ ì…ë ¥í•˜ì„¸ìš”',
      statSearchLabel: 'ì´ ì¡°íšŒ íšŸìˆ˜',
      statAvgCalLabel: 'ì¡°íšŒí•œ ì‹í’ˆì˜ í‰ê·  ì¹¼ë¡œë¦¬',
      statHealthyLabel: 'ê±´ê°•í•œ ì‹í’ˆ ì¡°íšŒ',
      statWarningLabel: 'ê³ ì¹¼ë¡œë¦¬ ì‹í’ˆ ì¡°íšŒ',
      
      /* æ¸¸æˆé¡µ */
      gameLevel1: '1ë‹¨ê³„ Â· ê¸°ì´ˆ',
      gameLevel2: '2ë‹¨ê³„ Â· ì‘ìš©',
      gameInfo: 'ê°™ì€ ìŒì‹ ë‘ ê°œë¥¼ ì„ íƒí•˜ë©´ ì§€ì›Œì§‘ë‹ˆë‹¤. í‹€ë¦¬ë©´ 3ì´ˆ ê°ì†Œ!',
      gameStart: 'ê²Œì„ ì‹œì‘',
      gameHelp: 'ê²Œì„ ì„¤ëª…',
      timerPrefix: 'â± ',
      timerSuffix: ' ì´ˆ',
      matchPrefix: 'ì œê±°í•œ ìŒ: ',
      matchSuffix: ' ê°œ',

      /* å¼¹çª— & æœºå…³ */
      gameIntroTitle: 'ê²Œì„ ë°©ë²•',
      gameIntroBody:
        '<ul>' +
        '<li>ã€Œê²Œì„ ì‹œì‘ã€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìŒì‹ ì¹´ë“œ 24ì¥ì´ ëœë¤ìœ¼ë¡œ ë°°ì¹˜ë©ë‹ˆë‹¤.</li>' +
        '<li>ê°™ì€ ì•„ì´ì½˜ ë‘ ê°œë¥¼ ì„ íƒí•˜ë©´ í•œ ìŒì´ ì œê±°ë©ë‹ˆë‹¤.</li>' +
        '<li>í‹€ë¦¬ê²Œ ì„ íƒí•˜ë©´ <strong>3ì´ˆ</strong>ì˜ ì‹œê°„ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.</li>' +
        '<li>1ë‹¨ê³„ëŠ” 60ì´ˆ, 2ë‹¨ê³„ëŠ” 45ì´ˆë¡œ ì‹œê°„ì´ ë” ì§§ì•„ì§‘ë‹ˆë‹¤.</li>' +
        '</ul>',
      introPrimary: '1ë‹¨ê³„ ì‹œì‘',
      introSecondary: 'í™”ë©´ë§Œ ë¨¼ì € ë³´ê¸°',

      wrongPenalty: 'ì˜ëª» ì„ íƒí•´ì„œ 3ì´ˆê°€ ì¤„ì—ˆìŠµë‹ˆë‹¤. ê°™ì€ ìŒì‹ ë‘ ê°œë¥¼ ì„ íƒí•˜ì„¸ìš”!',

      levelClearTitle: '1ë‹¨ê³„ í´ë¦¬ì–´!',
      levelClearBody: 'ëª¨ë“  ì¹´ë“œë¥¼ ì œê±°í–ˆìŠµë‹ˆë‹¤. ì´ì œ ì‹œê°„ì´ ë” ì§§ì€ 2ë‹¨ê³„ë¥¼ ë„ì „í•´ ë³¼ê¹Œìš”?',
      levelClearPrimary: '2ë‹¨ê³„ë¡œ ì´ë™',
      levelClearSecondary: 'ë‚˜ì¤‘ì—',

      allClearTitle: 'ëª¨ë“  ë‹¨ê³„ ì™„ë£Œ!',
      allClearBody: 'ëª¨ë“  ë‹¨ê³„ë¥¼ í´ë¦¬ì–´í–ˆìŠµë‹ˆë‹¤. í†µê³„ í˜ì´ì§€ë¥¼ ë³´ê±°ë‚˜ 1ë‹¨ê³„ë¶€í„° ë‹¤ì‹œ ë„ì „í•´ ë³´ì„¸ìš”.',
      allClearPrimary: 'í™•ì¸',
      allClearSecondary: 'ë‹«ê¸°',

      /* å…¶ä»– */
      recipeTitle: 'ì¶”ì²œ ì¡°í•©:',
      emptyHint: 'í•´ë‹¹ ì‹í’ˆì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì‹œë„í•´ ë³´ì„¸ìš”.'
    }
  };

  let currentLang = 'zh';
  let currentSection = 'section-search';

  /* ===================== DOM å¼•ç”¨ ===================== */

  // æ¬¢è¿é¡µ
  const langZhBtn = document.getElementById('langBtnZh');
  const langKrBtn = document.getElementById('langBtnKo');
  const startBtn  = document.getElementById('welcomeStartBtn');
  const nameInput = document.getElementById('welcomeNameInput');
  const welcomePanel = document.getElementById('welcomeOverlay');
  const mainLayout   = document.getElementById('mainLayout');

  const welcomeTitleEl   = document.getElementById('welcomeTitle');
  const welcomeSubtitleEl= document.getElementById('welcomeSubtitle');
  const labelLangEl      = document.getElementById('labelLang');
  const labelNameEl      = document.getElementById('labelName');
  const labelNameHintEl  = document.getElementById('labelNameHint');
  const btnStartTextEl   = document.getElementById('btnStartText');
  const welcomeTipEl     = document.getElementById('welcomeTip');

  // ä¾§è¾¹æ  & é¡¶éƒ¨
  const sideTitleEl   = document.getElementById('sideTitle');
  const sideSubtitleEl= document.getElementById('sideSubtitle');
  const sideLangLine  = document.getElementById('sideLangLine');
  const navSectionLabelEl = document.getElementById('navSectionLabel');
  const navFooterTextEl   = document.getElementById('navFooterText');
  const navLogoutEl       = document.getElementById('navLogout');

  const navSearch = document.getElementById('navSearchText');
  const navGame   = document.getElementById('navGameText');
  const navStats  = document.getElementById('navStatsText');

  const sections  = document.querySelectorAll('.section');

  const contentTitle   = document.getElementById('contentTitle');
  const contentTitleText = document.getElementById('contentTitleText');
  const contentSubtitle= document.getElementById('contentSubtitle');

  // æŸ¥è¯¢é¡µ
  const foodInput = document.getElementById('foodInput');
  const searchBtn = document.getElementById('searchBtn');
  const chips     = document.querySelectorAll('.food-chip');

  const foodResultArea = document.getElementById('foodResultArea');
  const foodDetail     = document.getElementById('foodDetail');
  const emptyHintEl    = document.getElementById('emptyHint');

  const calorieValue = document.getElementById('calorieValue');
  const proteinValue = document.getElementById('proteinValue');
  const fatValue     = document.getElementById('fatValue');
  const carbValue    = document.getElementById('carbValue');
  const healthTipEl  = document.getElementById('healthTip');
  const recipeTitle  = document.getElementById('recipeTitle');
  const recipeList   = document.getElementById('recipeList');

  // ç»Ÿè®¡é¡µ
  const statsTitleEl       = document.getElementById('statsTitle');
  const statsDescEl        = document.getElementById('statsDesc');
  const statSearchLabelEl  = document.getElementById('statSearchLabel');
  const statAvgCalLabelEl  = document.getElementById('statAvgCalLabel');
  const statHealthyLabelEl = document.getElementById('statHealthyLabel');
  const statWarningLabelEl = document.getElementById('statWarningLabel');
  const statSearchCountEl  = document.getElementById('statSearchCount');
  const statAvgCalEl       = document.getElementById('statAvgCal');
  const statHealthyCountEl = document.getElementById('statHealthyCount');
  const statWarningCountEl = document.getElementById('statWarningCount');
  
  // æ’è¡Œæ¦œå…ƒç´ 
  const foodRankingList = document.getElementById('foodRankingList');
  const gameRankingList = document.getElementById('gameRankingList');
  const myFoodRankEl = document.getElementById('myFoodRank');
  const myGameRankEl = document.getElementById('myGameRank');
  const rankingTabs = document.querySelectorAll('.ranking-tab');
  const rankingContents = document.querySelectorAll('.ranking-content');

  // æ¸¸æˆç›¸å…³
  const gameLevelText  = document.getElementById('gameLevelText');
  const gameInfoText   = document.getElementById('gameInfoText');
  const gameHelpBtn    = document.getElementById('gameHelpBtn');
  const gameStartBtn   = document.getElementById('gameStartBtn');
  const timerTextEl    = document.getElementById('timerText');
  const matchCountText = document.getElementById('matchCountText');
  const gameBoard      = document.getElementById('gameBoard');

  // æ¸¸æˆå¼¹çª—
  const gameModal            = document.getElementById('gameModal');
  const gameModalTitle       = document.getElementById('gameModalTitle');
  const gameModalBody        = document.getElementById('gameModalBody');
  const gameModalPrimaryBtn  = document.getElementById('gameModalPrimaryBtn');
  const gameModalSecondaryBtn= document.getElementById('gameModalSecondaryBtn');

  const toastEl = document.getElementById('toast');

  /* ===================== è½»é‡ Toast ===================== */
  function showToast (text) {
    if (!toastEl) return;
    toastEl.textContent = text;
    toastEl.style.opacity = '1';
    toastEl.style.transform = 'translateX(-50%) translateY(0)';
    setTimeout(() => {
      toastEl.style.opacity = '0';
      toastEl.style.transform = 'translateX(-50%) translateY(16px)';
    }, 2200);
  }

  /* ===================== å®Œæ•´é£Ÿç‰©æ•°æ®åº“ (36ç§) ===================== */
  const FOOD_ITEMS = [
    // åŸæœ‰çš„6ç§å¸¸è§é£Ÿç‰©
    {
      id: 'apple',
      icon: 'ğŸ',
      keywords: ['è‹¹æœ', 'ì‚¬ê³¼', 'apple'],
      kcal: 52,
      protein: 0.3,
      fat: 0.2,
      carb: 14,
      level: 'good',
      zh: { name: 'è‹¹æœ', tip: 'å¯Œå«ç»´ç”Ÿç´  C å’Œè†³é£Ÿçº¤ç»´ï¼Œå¯ä½œä¸ºåŠ é¤æˆ–æ—©é¤é…é¤ã€‚', recipes: [], gameTip: 'æ°´æœæ›¿ä»£å«ç³–é›¶é£Ÿã€‚' },
      kr: { name: 'ì‚¬ê³¼', tip: 'ë¹„íƒ€ë¯¼ Cì™€ ì‹ì´ì„¬ìœ ê°€ í’ë¶€í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ê³¼ì¼ì„ ë‹¬ì½¤í•œ ê³¼ì ëŒ€ì‹  ë¨¹ìŠµë‹ˆë‹¤.' }
    },
    {
      id: 'rice',
      icon: 'ğŸš',
      keywords: ['ç±³é¥­', 'ç™½ç±³é¥­', 'ë°¥', 'rice'],
      kcal: 130,
      protein: 2.4,
      fat: 0.3,
      carb: 28,
      level: 'mid',
      zh: { name: 'ç™½ç±³é¥­', tip: 'æ§åˆ¶ä»½é‡ï¼Œå¹¶æ­é…è¶³å¤Ÿè”¬èœä¸è›‹ç™½è´¨ã€‚', recipes: [], gameTip: 'ç™½ç±³é¥­æœ¬èº«ä¸ç­‰äºã€Œä¸å¥åº·ã€ã€‚' },
      kr: { name: 'ë°¥', tip: 'ì–‘ì„ ì¡°ì ˆí•˜ê³  ì±„ì†Œì™€ ë‹¨ë°±ì§ˆì„ í•¨ê»˜ ë¨¹ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë°¥ ìì²´ê°€ ë‚˜ìœ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.' }
    },
    {
      id: 'milk',
      icon: 'ğŸ¥›',
      keywords: ['ç‰›å¥¶', 'ìš°ìœ ', 'milk'],
      kcal: 60,
      protein: 3.2,
      fat: 3.3,
      carb: 4.8,
      level: 'good',
      zh: { name: 'ç‰›å¥¶', tip: 'æä¾›ä¼˜è´¨è›‹ç™½å’Œé’™ã€‚', recipes: [], gameTip: 'é’™å’Œè›‹ç™½è´¨æœ‰åŠ©äºéª¨éª¼å¥åº·ã€‚' },
      kr: { name: 'ìš°ìœ ', tip: 'ì–‘ì§ˆì˜ ë‹¨ë°±ì§ˆê³¼ ì¹¼ìŠ˜ì„ ì œê³µí•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ì¹¼ìŠ˜ê³¼ ë‹¨ë°±ì§ˆì€ ë¼ˆ ê±´ê°•ì— ë„ì›€ì„ ì¤ë‹ˆë‹¤.' }
    },
    {
      id: 'chicken',
      icon: 'ğŸ—',
      keywords: ['é¸¡èƒ¸è‚‰', 'é¸¡è‚‰', 'ë‹­ê°€ìŠ´ì‚´', 'chicken'],
      kcal: 120,
      protein: 22,
      fat: 3,
      carb: 0,
      level: 'good',
      zh: { name: 'é¸¡èƒ¸è‚‰', tip: 'é«˜è›‹ç™½ã€ä½è„‚è‚ªã€‚', recipes: [], gameTip: 'ä¼˜å…ˆé€‰æ‹©å°‘æ²¹çš„çƒ¹é¥ªæ–¹å¼ã€‚' },
      kr: { name: 'ë‹­ê°€ìŠ´ì‚´', tip: 'ë‹¨ë°±ì§ˆì´ ë†’ê³  ì§€ë°©ì´ ì ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'íŠ€ê¸°ì§€ ì•Šê³  êµ½ê±°ë‚˜ ì‚¶ëŠ” ë°©ì‹ì´ ì¢‹ìŠµë‹ˆë‹¤.' }
    },
    {
      id: 'carrot',
      icon: 'ğŸ¥•',
      keywords: ['èƒ¡èåœ', 'ë‹¹ê·¼', 'carrot'],
      kcal: 41,
      protein: 0.9,
      fat: 0.2,
      carb: 10,
      level: 'good',
      zh: { name: 'èƒ¡èåœ', tip: 'å«æœ‰Î²-èƒ¡èåœç´ ã€‚', recipes: [], gameTip: 'æ©™è‰²è”¬èœå¯Œå«ç»´ç”Ÿç´  Aã€‚' },
      kr: { name: 'ë‹¹ê·¼', tip: 'ë² íƒ€ì¹´ë¡œí‹´ì´ í’ë¶€í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ì£¼í™©ìƒ‰ ì±„ì†ŒëŠ” ë¹„íƒ€ë¯¼ Aê°€ í’ë¶€í•©ë‹ˆë‹¤.' }
    },
    {
      id: 'cola',
      icon: 'ğŸ¥¤',
      keywords: ['å¯ä¹', 'ì½œë¼', 'cola'],
      kcal: 42,
      protein: 0,
      fat: 0,
      carb: 11,
      level: 'warn',
      zh: { name: 'å«ç³–é¥®æ–™ï¼ˆå¯ä¹ï¼‰', tip: 'å‡ ä¹åªæä¾›ç³–ä¸çƒ­é‡ã€‚', recipes: [], gameTip: 'å«ç³–é¥®æ–™å®¹æ˜“æŠ¬é«˜çƒ­é‡ã€‚' },
      kr: { name: 'ë‹¹ë¶„ ìŒë£Œ(ì½œë¼)', tip: 'ê±°ì˜ ë‹¹ê³¼ ì—´ëŸ‰ë§Œ ì œê³µí•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ë‹¹ë¶„ ìŒë£ŒëŠ” ì—´ëŸ‰ì„ í¬ê²Œ ì˜¬ë¦½ë‹ˆë‹¤.' }
    },
    
    // ========== 30ç§éŸ©å›½é£Ÿç‰© ==========
    {
      id: 'kimchi',
      icon: 'ğŸ¥¬',
      keywords: ['æ³¡èœ', 'ê¹€ì¹˜', 'kimchi'],
      kcal: 15,
      protein: 1.1,
      fat: 0.2,
      carb: 3,
      level: 'good',
      zh: { name: 'æ³¡èœ', tip: 'å‘é…µé£Ÿå“ï¼Œå¯Œå«ç›Šç”ŸèŒå’Œç»´ç”Ÿç´ Cï¼Œæœ‰ç›Šè‚ é“å¥åº·ã€‚', recipes: [], gameTip: 'æ³¡èœæ˜¯éŸ©å›½çš„ä»£è¡¨æ€§å‘é…µé£Ÿå“ã€‚' },
      kr: { name: 'ê¹€ì¹˜', tip: 'ë°œíš¨ì‹í’ˆìœ¼ë¡œ ìœ ì‚°ê· ê³¼ ë¹„íƒ€ë¯¼ Cê°€ í’ë¶€í•˜ì—¬ ì¥ ê±´ê°•ì— ì¢‹ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ê¹€ì¹˜ëŠ” í•œêµ­ì˜ ëŒ€í‘œì ì¸ ë°œíš¨ì‹í’ˆì…ë‹ˆë‹¤.' }
    },
    {
      id: 'bibimbap',
      icon: 'ğŸ¥˜',
      keywords: ['çŸ³é”…æ‹Œé¥­', 'ë¹„ë¹”ë°¥', 'bibimbap'],
      kcal: 450,
      protein: 12,
      fat: 15,
      carb: 65,
      level: 'mid',
      zh: { name: 'çŸ³é”…æ‹Œé¥­', tip: 'å¤šç§è”¬èœå’Œè‚‰ä¸ç±³é¥­æ‹Œé£Ÿï¼Œè¥å…»å‡è¡¡ä½†çƒ­é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'çŸ³é”…æ‹Œé¥­æ˜¯éŸ©å›½çš„ä»£è¡¨æ€§æ··åˆé¥­ã€‚' },
      kr: { name: 'ë¹„ë¹”ë°¥', tip: 'ë‹¤ì–‘í•œ ì±„ì†Œì™€ ê³ ê¸°ë¥¼ ë°¥ê³¼ ë¹„ë²¼ë¨¹ëŠ” ì˜ì–‘ê· í˜• ì‹ì‚¬ì§€ë§Œ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë¹„ë¹”ë°¥ì€ í•œêµ­ì˜ ëŒ€í‘œì ì¸ í˜¼í•©ë°¥ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'gimbap',
      icon: 'ğŸ£',
      keywords: ['ç´«èœåŒ…é¥­', 'ê¹€ë°¥', 'gimbap'],
      kcal: 200,
      protein: 5,
      fat: 3,
      carb: 35,
      level: 'mid',
      zh: { name: 'ç´«èœåŒ…é¥­', tip: 'ç”¨ç´«èœåŒ…è£¹çš„é¥­å·ï¼Œä¾¿æºä½†ç¢³æ°´åŒ–åˆç‰©å«é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'ç´«èœåŒ…é¥­æ˜¯éŸ©å›½æµè¡Œçš„ä¾¿æºé£Ÿç‰©ã€‚' },
      kr: { name: 'ê¹€ë°¥', tip: 'ê¹€ì— ë°¥ê³¼ ë‹¤ì–‘í•œ ì¬ë£Œë¥¼ ë§ì•„ë‚¸ íœ´ëŒ€ìš© ìŒì‹ì…ë‹ˆë‹¤.', recipes: [], gameTip: 'ê¹€ë°¥ì€ í•œêµ­ì—ì„œ ì¸ê¸° ìˆëŠ” íœ´ëŒ€ìš© ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'tteokbokki',
      icon: 'ğŸ¢',
      keywords: ['ç‚’å¹´ç³•', 'ë–¡ë³¶ì´', 'tteokbokki'],
      kcal: 280,
      protein: 4,
      fat: 2,
      carb: 60,
      level: 'warn',
      zh: { name: 'ç‚’å¹´ç³•', tip: 'è¾£å‘³å¹´ç³•å°åƒï¼Œé«˜ç¢³æ°´åŒ–åˆç‰©å’Œé’ å«é‡ã€‚', recipes: [], gameTip: 'ç‚’å¹´ç³•æ˜¯éŸ©å›½æµè¡Œçš„è¡—å¤´å°åƒã€‚' },
      kr: { name: 'ë–¡ë³¶ì´', tip: 'ë§¤ì½¤í•œ ë–¡ ìš”ë¦¬ë¡œ íƒ„ìˆ˜í™”ë¬¼ê³¼ ë‚˜íŠ¸ë¥¨ í•¨ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë–¡ë³¶ì´ëŠ” í•œêµ­ì˜ ì¸ê¸° ìˆëŠ” ê¸¸ê±°ë¦¬ ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'samgyeopsal',
      icon: 'ğŸ¥“',
      keywords: ['äº”èŠ±è‚‰', 'ì‚¼ê²¹ì‚´', 'samgyeopsal'],
      kcal: 310,
      protein: 18,
      fat: 25,
      carb: 0,
      level: 'warn',
      zh: { name: 'çƒ¤äº”èŠ±è‚‰', tip: 'é«˜è„‚è‚ªè‚‰ç±»ï¼Œé€‚é‡é£Ÿç”¨å¹¶æ­é…å¤§é‡è”¬èœã€‚', recipes: [], gameTip: 'äº”èŠ±è‚‰æ˜¯éŸ©å›½çƒ¤è‚‰çš„ä»£è¡¨ã€‚' },
      kr: { name: 'ì‚¼ê²¹ì‚´', tip: 'ì§€ë°© í•¨ëŸ‰ì´ ë†’ì€ ê³ ê¸°ë¡œ ì ë‹¹ëŸ‰ì„ ë¨¹ê³  ì±„ì†Œì™€ í•¨ê»˜ ë¨¹ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ì‚¼ê²¹ì‚´ì€ í•œêµ­ êµ¬ì´ì˜ ëŒ€í‘œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'doenjang',
      icon: 'ğŸ¥£',
      keywords: ['å¤§é…±', 'ëœì¥', 'doenjang'],
      kcal: 50,
      protein: 4,
      fat: 2,
      carb: 6,
      level: 'good',
      zh: { name: 'å¤§é…±', tip: 'å‘é…µå¤§è±†é…±ï¼Œå¯Œå«è›‹ç™½è´¨å’Œç›Šç”ŸèŒã€‚', recipes: [], gameTip: 'å¤§é…±æ˜¯éŸ©å›½ä¼ ç»Ÿè°ƒå‘³æ–™ã€‚' },
      kr: { name: 'ëœì¥', tip: 'ë°œíš¨ëœ ì½©ì¥ìœ¼ë¡œ ë‹¨ë°±ì§ˆê³¼ ìœ ì‚°ê· ì´ í’ë¶€í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ëœì¥ì€ í•œêµ­ ì „í†µ ì–‘ë…ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'miyeokguk',
      icon: 'ğŸ²',
      keywords: ['æµ·å¸¦æ±¤', 'ë¯¸ì—­êµ­', 'miyeokguk'],
      kcal: 40,
      protein: 2,
      fat: 1,
      carb: 6,
      level: 'good',
      zh: { name: 'æµ·å¸¦æ±¤', tip: 'å¯Œå«ç¢˜å’ŒçŸ¿ç‰©è´¨ï¼Œä¼ ç»Ÿä¸Šåœ¨ç”Ÿæ—¥æ—¶é£Ÿç”¨ã€‚', recipes: [], gameTip: 'æµ·å¸¦æ±¤æ˜¯éŸ©å›½ç”Ÿæ—¥ä¼ ç»Ÿé£Ÿç‰©ã€‚' },
      kr: { name: 'ë¯¸ì—­êµ­', tip: 'ìš”ì˜¤ë“œì™€ ë¯¸ë„¤ë„ì´ í’ë¶€í•˜ë©° ìƒì¼ ë•Œ ë¨¹ëŠ” ì „í†µ ìŒì‹ì…ë‹ˆë‹¤.', recipes: [], gameTip: 'ë¯¸ì—­êµ­ì€ í•œêµ­ ìƒì¼ ì „í†µ ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'bossam',
      icon: 'ğŸ¥¬',
      keywords: ['åŒ…è‚‰', 'ë³´ìŒˆ', 'bossam'],
      kcal: 320,
      protein: 20,
      fat: 22,
      carb: 8,
      level: 'mid',
      zh: { name: 'åŒ…è‚‰', tip: 'ç…®çŒªè‚‰ç”¨è”¬èœåŒ…è£¹é£Ÿç”¨ï¼Œè„‚è‚ªå«é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'åŒ…è‚‰æ˜¯éŸ©å›½çš„ä¼ ç»ŸçŒªè‚‰æ–™ç†ã€‚' },
      kr: { name: 'ë³´ìŒˆ', tip: 'ì‚¶ì€ ë¼ì§€ê³ ê¸°ë¥¼ ì±„ì†Œì— ì‹¸ì„œ ë¨¹ëŠ” ì§€ë°© í•¨ëŸ‰ì´ ë†’ì€ ìŒì‹ì…ë‹ˆë‹¤.', recipes: [], gameTip: 'ë³´ìŒˆì€ í•œêµ­ ì „í†µ ë¼ì§€ê³ ê¸° ìš”ë¦¬ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'sundubu',
      icon: 'ğŸ²',
      keywords: ['å«©è±†è…æ±¤', 'ìˆœë‘ë¶€ì°Œê°œ', 'sundubu'],
      kcal: 120,
      protein: 8,
      fat: 5,
      carb: 10,
      level: 'good',
      zh: { name: 'å«©è±†è…æ±¤', tip: 'è¾£å‘³è±†è…æ±¤ï¼Œå¯Œå«è›‹ç™½è´¨ï¼Œçƒ­é‡é€‚ä¸­ã€‚', recipes: [], gameTip: 'å«©è±†è…æ±¤æ˜¯éŸ©å›½å¸¸è§çš„æ±¤å“ã€‚' },
      kr: { name: 'ìˆœë‘ë¶€ì°Œê°œ', tip: 'ë§¤ì½¤í•œ ë‘ë¶€ ì°Œê°œë¡œ ë‹¨ë°±ì§ˆì´ í’ë¶€í•˜ê³  ì¹¼ë¡œë¦¬ê°€ ì ë‹¹í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ìˆœë‘ë¶€ì°Œê°œëŠ” í•œêµ­ì—ì„œ í”í•œ ì°Œê°œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'bulgogi',
      icon: 'ğŸ¥©',
      keywords: ['çƒ¤è‚‰', 'ë¶ˆê³ ê¸°', 'bulgogi'],
      kcal: 250,
      protein: 20,
      fat: 15,
      carb: 8,
      level: 'mid',
      zh: { name: 'éŸ©å¼çƒ¤è‚‰', tip: 'è…Œåˆ¶ç‰›è‚‰çƒ¤åˆ¶ï¼Œè›‹ç™½è´¨ä¸°å¯Œä½†å«ç³–é…±æ–™å¢åŠ çƒ­é‡ã€‚', recipes: [], gameTip: 'çƒ¤è‚‰æ˜¯éŸ©å›½ä»£è¡¨æ€§çš„è‚‰ç±»æ–™ç†ã€‚' },
      kr: { name: 'ë¶ˆê³ ê¸°', tip: 'ì–‘ë…í•œ ì†Œê³ ê¸°ë¥¼ êµ¬ìš´ ê²ƒìœ¼ë¡œ ë‹¨ë°±ì§ˆì´ í’ë¶€í•˜ì§€ë§Œ ë‹¹ì´ ë§ì€ ì–‘ë…ìœ¼ë¡œ ì¹¼ë¡œë¦¬ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤.', recipes: [], gameTip: 'ë¶ˆê³ ê¸°ëŠ” í•œêµ­ì˜ ëŒ€í‘œì ì¸ ê³ ê¸° ìš”ë¦¬ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'japchae',
      icon: 'ğŸ',
      keywords: ['æ‚èœ', 'ì¡ì±„', 'japchae'],
      kcal: 180,
      protein: 4,
      fat: 7,
      carb: 25,
      level: 'mid',
      zh: { name: 'éŸ©å¼æ‚èœ', tip: 'ç²‰ä¸ç‚’è”¬èœï¼Œå£æ„Ÿå¥½ä½†ç¢³æ°´åŒ–åˆç‰©å«é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'æ‚èœæ˜¯éŸ©å›½å®´å¸­å¸¸è§èœã€‚' },
      kr: { name: 'ì¡ì±„', tip: 'ë‹¹ë©´ê³¼ ì±„ì†Œë¥¼ ë³¶ì€ ê²ƒìœ¼ë¡œ íƒ„ìˆ˜í™”ë¬¼ í•¨ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ì¡ì±„ëŠ” í•œêµ­ ì”ì¹˜ìƒì— ìì£¼ ë‚˜ì˜¤ëŠ” ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'kimchi-jjigae',
      icon: 'ğŸ¥˜',
      keywords: ['æ³¡èœæ±¤', 'ê¹€ì¹˜ì°Œê°œ', 'kimchi jjigae'],
      kcal: 150,
      protein: 10,
      fat: 8,
      carb: 12,
      level: 'good',
      zh: { name: 'æ³¡èœæ±¤', tip: 'å‘é…µæ³¡èœåˆ¶ä½œçš„æ±¤ï¼Œå¯Œå«ç›Šç”ŸèŒï¼Œè¾›è¾£å¼€èƒƒã€‚', recipes: [], gameTip: 'æ³¡èœæ±¤æ˜¯éŸ©å›½å®¶å¸¸æ±¤å“ã€‚' },
      kr: { name: 'ê¹€ì¹˜ì°Œê°œ', tip: 'ë°œíš¨ ê¹€ì¹˜ë¡œ ë§Œë“  ì°Œê°œë¡œ ìœ ì‚°ê· ì´ í’ë¶€í•˜ê³  ë§¤ì½¤í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ê¹€ì¹˜ì°Œê°œëŠ” í•œêµ­ ê°€ì •ì‹ ì°Œê°œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'pajeon',
      icon: 'ğŸ¥',
      keywords: ['è‘±é¥¼', 'íŒŒì „', 'pajeon'],
      kcal: 220,
      protein: 6,
      fat: 10,
      carb: 25,
      level: 'mid',
      zh: { name: 'éŸ©å¼è‘±é¥¼', tip: 'è‘±å’Œé¢ç³Šç…åˆ¶ï¼Œæ²¹ç‚¸é£Ÿå“çƒ­é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'è‘±é¥¼æ˜¯éŸ©å›½ä¼ ç»Ÿç…é¥¼ã€‚' },
      kr: { name: 'íŒŒì „', tip: 'íŒŒì™€ ë°˜ì£½ì„ ë¶€ì³ ë§Œë“  ê²ƒìœ¼ë¡œ ê¸°ë¦„ì— íŠ€ê²¨ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'íŒŒì „ì€ í•œêµ­ ì „í†µ ì „ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'samgyetang',
      icon: 'ğŸ—',
      keywords: ['å‚é¸¡æ±¤', 'ì‚¼ê³„íƒ•', 'samgyetang'],
      kcal: 350,
      protein: 25,
      fat: 12,
      carb: 30,
      level: 'mid',
      zh: { name: 'å‚é¸¡æ±¤', tip: 'æ•´åªé¸¡ç‚–ç…®ï¼Œè¥å…»ä¸°å¯Œä½†çƒ­é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'å‚é¸¡æ±¤æ˜¯éŸ©å›½å¤å­£æ»‹è¡¥é£Ÿå“ã€‚' },
      kr: { name: 'ì‚¼ê³„íƒ•', tip: 'í†µë‹­ì„ í‘¹ ê³ ì•„ ë§Œë“  ê²ƒìœ¼ë¡œ ì˜ì–‘ì´ í’ë¶€í•˜ì§€ë§Œ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ì‚¼ê³„íƒ•ì€ í•œêµ­ ì—¬ë¦„ ë³´ì–‘ì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'tteokguk',
      icon: 'ğŸœ',
      keywords: ['å¹´ç³•æ±¤', 'ë–¡êµ­', 'tteokguk'],
      kcal: 200,
      protein: 5,
      fat: 3,
      carb: 38,
      level: 'mid',
      zh: { name: 'å¹´ç³•æ±¤', tip: 'æ–°å¹´ä¼ ç»Ÿé£Ÿç‰©ï¼Œå¹´ç³•ä¸ºä¸»è¦æˆåˆ†ï¼Œç¢³æ°´åŒ–åˆç‰©é«˜ã€‚', recipes: [], gameTip: 'å¹´ç³•æ±¤æ˜¯éŸ©å›½æ–°å¹´å¿…åƒé£Ÿç‰©ã€‚' },
      kr: { name: 'ë–¡êµ­', tip: 'ì„¤ë‚  ì „í†µ ìŒì‹ìœ¼ë¡œ ë–¡ì´ ì£¼ì„±ë¶„ì´ì–´ì„œ íƒ„ìˆ˜í™”ë¬¼ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë–¡êµ­ì€ í•œêµ­ ì„¤ë‚  í•„ìˆ˜ ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'haemul-pajeon',
      icon: 'ğŸ¥',
      keywords: ['æµ·é²œè‘±é¥¼', 'í•´ë¬¼íŒŒì „', 'haemul pajeon'],
      kcal: 280,
      protein: 12,
      fat: 15,
      carb: 22,
      level: 'mid',
      zh: { name: 'æµ·é²œè‘±é¥¼', tip: 'å«æµ·é²œçš„ç…é¥¼ï¼Œè›‹ç™½è´¨è¾ƒé«˜ä½†æ²¹ç‚¸åˆ¶ä½œã€‚', recipes: [], gameTip: 'æµ·é²œè‘±é¥¼æ˜¯éŸ©å¼æµ·é²œç…é¥¼ã€‚' },
      kr: { name: 'í•´ë¬¼íŒŒì „', tip: 'í•´ë¬¼ì´ ë“¤ì–´ê°„ ì „ìœ¼ë¡œ ë‹¨ë°±ì§ˆì´ ë†’ì§€ë§Œ ê¸°ë¦„ì— íŠ€ê¹ë‹ˆë‹¤.', recipes: [], gameTip: 'í•´ë¬¼íŒŒì „ì€ í•œêµ­ì‹ í•´ë¬¼ ì „ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'odeng',
      icon: 'ğŸ¢',
      keywords: ['é±¼é¥¼', 'ì˜¤ë…', 'odeng'],
      kcal: 80,
      protein: 6,
      fat: 3,
      carb: 8,
      level: 'mid',
      zh: { name: 'éŸ©å¼é±¼é¥¼', tip: 'é±¼æµ†åˆ¶å“ï¼Œè›‹ç™½è´¨æ¥æºä½†å«é’ é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'é±¼é¥¼æ˜¯éŸ©å›½è¡—å¤´å°åƒã€‚' },
      kr: { name: 'ì˜¤ë…', tip: 'ì–´ë¬µìœ¼ë¡œ ë‹¨ë°±ì§ˆ ê³µê¸‰ì›ì´ì§€ë§Œ ë‚˜íŠ¸ë¥¨ í•¨ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ì˜¤ë…ì€ í•œêµ­ ê¸¸ê±°ë¦¬ ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'yukgaejang',
      icon: 'ğŸ²',
      keywords: ['è¾£ç‰›è‚‰æ±¤', 'ìœ¡ê°œì¥', 'yukgaejang'],
      kcal: 180,
      protein: 15,
      fat: 8,
      carb: 10,
      level: 'mid',
      zh: { name: 'è¾£ç‰›è‚‰æ±¤', tip: 'è¾£å‘³ç‰›è‚‰è”¬èœæ±¤ï¼Œè›‹ç™½è´¨ä¸°å¯Œï¼Œè¾›è¾£å¼€èƒƒã€‚', recipes: [], gameTip: 'è¾£ç‰›è‚‰æ±¤æ˜¯éŸ©å¼è¾£æ±¤ä»£è¡¨ã€‚' },
      kr: { name: 'ìœ¡ê°œì¥', tip: 'ë§¤ì½¤í•œ ì†Œê³ ê¸° ì±„ì†Œ êµ­ìœ¼ë¡œ ë‹¨ë°±ì§ˆì´ í’ë¶€í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ìœ¡ê°œì¥ì€ í•œêµ­ì‹ ë§¤ìš´ êµ­ì˜ ëŒ€í‘œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'galbi',
      icon: 'ğŸ¥©',
      keywords: ['çƒ¤æ’éª¨', 'ê°ˆë¹„', 'galbi'],
      kcal: 380,
      protein: 25,
      fat: 28,
      carb: 12,
      level: 'warn',
      zh: { name: 'éŸ©å¼çƒ¤æ’éª¨', tip: 'è…Œåˆ¶ç‰›æ’éª¨ï¼Œç¾å‘³ä½†é«˜è„‚è‚ªé«˜çƒ­é‡ã€‚', recipes: [], gameTip: 'çƒ¤æ’éª¨æ˜¯éŸ©å›½é«˜çº§çƒ¤è‚‰ã€‚' },
      kr: { name: 'ê°ˆë¹„', tip: 'ì–‘ë…í•œ ì†Œê°ˆë¹„ë¡œ ë§›ìˆì§€ë§Œ ì§€ë°©ê³¼ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ê°ˆë¹„ëŠ” í•œêµ­ ê³ ê¸‰ êµ¬ì´ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'kongnamul',
      icon: 'ğŸŒ±',
      keywords: ['è±†èŠ½èœ', 'ì½©ë‚˜ë¬¼', 'kongnamul'],
      kcal: 30,
      protein: 3,
      fat: 0.5,
      carb: 5,
      level: 'good',
      zh: { name: 'å‡‰æ‹Œè±†èŠ½', tip: 'ä½çƒ­é‡é«˜çº¤ç»´ï¼Œå¯Œå«ç»´ç”Ÿç´ Cå’Œè›‹ç™½è´¨ã€‚', recipes: [], gameTip: 'è±†èŠ½æ˜¯éŸ©å›½å¸¸è§å°èœã€‚' },
      kr: { name: 'ì½©ë‚˜ë¬¼', tip: 'ì¹¼ë¡œë¦¬ê°€ ë‚®ê³  ì„¬ìœ ì§ˆì´ ë§ìœ¼ë©° ë¹„íƒ€ë¯¼ Cì™€ ë‹¨ë°±ì§ˆì´ í’ë¶€í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ì½©ë‚˜ë¬¼ì€ í•œêµ­ í”í•œ ë°˜ì°¬ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'gamjatang',
      icon: 'ğŸ²',
      keywords: ['åœŸè±†æ±¤', 'ê°ìíƒ•', 'gamjatang'],
      kcal: 320,
      protein: 18,
      fat: 20,
      carb: 15,
      level: 'warn',
      zh: { name: 'åœŸè±†è„Šéª¨æ±¤', tip: 'çŒªè„Šéª¨å’ŒåœŸè±†ç‚–ç…®ï¼Œé«˜è„‚è‚ªé«˜çƒ­é‡ã€‚', recipes: [], gameTip: 'åœŸè±†æ±¤æ˜¯éŸ©å¼ç‚–æ±¤ã€‚' },
      kr: { name: 'ê°ìíƒ•', tip: 'ë¼ì§€ ë“±ë¼ˆì™€ ê°ìë¥¼ í‘¹ ê³ ì•„ ë§Œë“  ê²ƒìœ¼ë¡œ ì§€ë°©ê³¼ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ê°ìíƒ•ì€ í•œêµ­ì‹ ì°œ ìš”ë¦¬ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'bibim-naengmyeon',
      icon: 'ğŸœ',
      keywords: ['æ‹Œå†·é¢', 'ë¹„ë¹”ëƒ‰ë©´', 'bibim naengmyeon'],
      kcal: 220,
      protein: 8,
      fat: 3,
      carb: 40,
      level: 'mid',
      zh: { name: 'éŸ©å¼æ‹Œå†·é¢', tip: 'å†·é¢æ‹Œè¾£é…±ï¼Œå¤å­£æ¸…çˆ½ä½†ç¢³æ°´åŒ–åˆç‰©é«˜ã€‚', recipes: [], gameTip: 'æ‹Œå†·é¢æ˜¯éŸ©å›½å¤å­£ç¾é£Ÿã€‚' },
      kr: { name: 'ë¹„ë¹”ëƒ‰ë©´', tip: 'ëƒ‰ë©´ì— ë§¤ìš´ ì–‘ë…ì„ ë¹„ë²¼ë¨¹ëŠ” ì—¬ë¦„ ìŒì‹ìœ¼ë¡œ íƒ„ìˆ˜í™”ë¬¼ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë¹„ë¹”ëƒ‰ë©´ì€ í•œêµ­ ì—¬ë¦„ ë³„ë¯¸ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'sikhye',
      icon: 'ğŸ¥¤',
      keywords: ['ç”œç±³éœ²', 'ì‹í˜œ', 'sikhye'],
      kcal: 90,
      protein: 1,
      fat: 0.2,
      carb: 20,
      level: 'warn',
      zh: { name: 'ä¼ ç»Ÿç”œç±³é¥®', tip: 'å‘é…µç±³é¥®æ–™ï¼Œå«ç³–é‡è¾ƒé«˜ã€‚', recipes: [], gameTip: 'ç”œç±³éœ²æ˜¯éŸ©å›½ä¼ ç»Ÿé¥®å“ã€‚' },
      kr: { name: 'ì‹í˜œ', tip: 'ë°œíš¨ ìŒ€ ìŒë£Œë¡œ ë‹¹ í•¨ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ì‹í˜œëŠ” í•œêµ­ ì „í†µ ìŒë£Œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'bingsu',
      icon: 'ğŸ§',
      keywords: ['åˆ¨å†°', 'ë¹™ìˆ˜', 'bingsu'],
      kcal: 350,
      protein: 5,
      fat: 8,
      carb: 65,
      level: 'warn',
      zh: { name: 'éŸ©å¼åˆ¨å†°', tip: 'å¤å­£ç”œå“ï¼Œé«˜ç³–é«˜çƒ­é‡ã€‚', recipes: [], gameTip: 'åˆ¨å†°æ˜¯éŸ©å›½å¤å­£ç”œå“ã€‚' },
      kr: { name: 'ë¹™ìˆ˜', tip: 'ì—¬ë¦„ ë””ì €íŠ¸ë¡œ ë‹¹ê³¼ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë¹™ìˆ˜ëŠ” í•œêµ­ ì—¬ë¦„ ë””ì €íŠ¸ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'goguma',
      icon: 'ğŸ ',
      keywords: ['çƒ¤çº¢è–¯', 'ê³ êµ¬ë§ˆ', 'goguma'],
      kcal: 90,
      protein: 2,
      fat: 0.3,
      carb: 20,
      level: 'good',
      zh: { name: 'çƒ¤çº¢è–¯', tip: 'å¯Œå«è†³é£Ÿçº¤ç»´å’Œç»´ç”Ÿç´ ï¼Œå¥åº·çš„ç¢³æ°´åŒ–åˆç‰©æ¥æºã€‚', recipes: [], gameTip: 'çƒ¤çº¢è–¯æ˜¯éŸ©å›½å†¬å­£å°åƒã€‚' },
      kr: { name: 'ê³ êµ¬ë§ˆ', tip: 'ì‹ì´ì„¬ìœ ì™€ ë¹„íƒ€ë¯¼ì´ í’ë¶€í•œ ê±´ê°•í•œ íƒ„ìˆ˜í™”ë¬¼ ê³µê¸‰ì›ì…ë‹ˆë‹¤.', recipes: [], gameTip: 'ê³ êµ¬ë§ˆëŠ” í•œêµ­ ê²¨ìš¸ ê°„ì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'soju',
      icon: 'ğŸ¶',
      keywords: ['çƒ§é…’', 'ì†Œì£¼', 'soju'],
      kcal: 200,
      protein: 0,
      fat: 0,
      carb: 0,
      level: 'warn',
      zh: { name: 'éŸ©å›½çƒ§é…’', tip: 'è’¸é¦é…’ï¼Œé«˜çƒ­é‡æ— è¥å…»ï¼Œéœ€é€‚é‡é¥®ç”¨ã€‚', recipes: [], gameTip: 'çƒ§é…’æ˜¯éŸ©å›½ä»£è¡¨æ€§é…’ç±»ã€‚' },
      kr: { name: 'ì†Œì£¼', tip: 'ì¦ë¥˜ì£¼ë¡œ ì¹¼ë¡œë¦¬ê°€ ë†’ê³  ì˜ì–‘ê°€ê°€ ì—†ìŠµë‹ˆë‹¤. ì ë‹¹íˆ ë§ˆì…”ì•¼ í•©ë‹ˆë‹¤.', recipes: [], gameTip: 'ì†Œì£¼ëŠ” í•œêµ­ ëŒ€í‘œ ìˆ ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'makgeolli',
      icon: 'ğŸ¶',
      keywords: ['ç±³é…’', 'ë§‰ê±¸ë¦¬', 'makgeolli'],
      kcal: 120,
      protein: 2,
      fat: 0.5,
      carb: 15,
      level: 'mid',
      zh: { name: 'éŸ©å›½ç±³é…’', tip: 'å‘é…µç±³é…’ï¼Œå«ç›Šç”ŸèŒä½†å«é…’ç²¾ã€‚', recipes: [], gameTip: 'ç±³é…’æ˜¯éŸ©å›½ä¼ ç»Ÿå‘é…µé…’ã€‚' },
      kr: { name: 'ë§‰ê±¸ë¦¬', tip: 'ë°œíš¨ ìŒ€ìˆ ë¡œ ìœ ì‚°ê· ì´ ìˆì§€ë§Œ ì•Œì½”ì˜¬ì´ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë§‰ê±¸ë¦¬ëŠ” í•œêµ­ ì „í†µ ë°œíš¨ì£¼ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'yangnyeom-chicken',
      icon: 'ğŸ—',
      keywords: ['éŸ©å¼ç‚¸é¸¡', 'ì–‘ë…ì¹˜í‚¨', 'yangnyeom chicken'],
      kcal: 420,
      protein: 22,
      fat: 25,
      carb: 30,
      level: 'warn',
      zh: { name: 'éŸ©å¼ç‚¸é¸¡', tip: 'æ²¹ç‚¸é¸¡è‚‰è£¹ç”œè¾£é…±ï¼Œé«˜è„‚è‚ªé«˜çƒ­é‡ã€‚', recipes: [], gameTip: 'ç‚¸é¸¡æ˜¯éŸ©å›½æµè¡Œé£Ÿå“ã€‚' },
      kr: { name: 'ì–‘ë…ì¹˜í‚¨', tip: 'íŠ€ê¸´ ë‹­ì— ë‹¬ì½¤ë§¤ì½¤í•œ ì–‘ë…ì„ ë°”ë¥¸ ê²ƒìœ¼ë¡œ ì§€ë°©ê³¼ ì¹¼ë¡œë¦¬ê°€ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ì¹˜í‚¨ì€ í•œêµ­ ì¸ê¸° ìŒì‹ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'kkaennip',
      icon: 'ğŸŒ¿',
      keywords: ['ç´«è‹å¶', 'ê¹»ì', 'kkaennip'],
      kcal: 25,
      protein: 2,
      fat: 0.5,
      carb: 4,
      level: 'good',
      zh: { name: 'ç´«è‹å¶', tip: 'å¯Œå«ç»´ç”Ÿç´ å’ŒçŸ¿ç‰©è´¨ï¼Œå¸¸ç”¨ä½œåŒ…è‚‰è”¬èœã€‚', recipes: [], gameTip: 'ç´«è‹å¶æ˜¯éŸ©å›½åŒ…è‚‰è”¬èœã€‚' },
      kr: { name: 'ê¹»ì', tip: 'ë¹„íƒ€ë¯¼ê³¼ ë¯¸ë„¤ë„ì´ í’ë¶€í•˜ë©° ê³ ê¸° ì‹¸ë¨¹ëŠ” ì±„ì†Œë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.', recipes: [], gameTip: 'ê¹»ìì€ í•œêµ­ ê³ ê¸° ì‹¸ë¨¹ëŠ” ì±„ì†Œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'myeolchi',
      icon: 'ğŸŸ',
      keywords: ['å°é±¼å¹²', 'ë©¸ì¹˜', 'myeolchi'],
      kcal: 80,
      protein: 16,
      fat: 1.5,
      carb: 0,
      level: 'good',
      zh: { name: 'å°é±¼å¹²', tip: 'é«˜é’™é«˜è›‹ç™½ï¼Œå¸¸ç”¨ä½œå°èœæˆ–æ±¤åº•ã€‚', recipes: [], gameTip: 'å°é±¼å¹²æ˜¯éŸ©å›½å¸¸è§é£Ÿæã€‚' },
      kr: { name: 'ë©¸ì¹˜', tip: 'ì¹¼ìŠ˜ê³¼ ë‹¨ë°±ì§ˆì´ í’ë¶€í•˜ë©° ë°˜ì°¬ì´ë‚˜ êµ­ë¬¼ ì¬ë£Œë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.', recipes: [], gameTip: 'ë©¸ì¹˜ëŠ” í•œêµ­ í”í•œ ì‹ì¬ë£Œì…ë‹ˆë‹¤.' }
    },
    {
      id: 'dakbal',
      icon: 'ğŸ—',
      keywords: ['è¾£é¸¡çˆª', 'ë‹­ë°œ', 'dakbal'],
      kcal: 180,
      protein: 15,
      fat: 12,
      carb: 5,
      level: 'mid',
      zh: { name: 'è¾£é¸¡çˆª', tip: 'è¾£å‘³é¸¡çˆªï¼Œè›‹ç™½è´¨ä¸°å¯Œä½†é’ å«é‡é«˜ã€‚', recipes: [], gameTip: 'è¾£é¸¡çˆªæ˜¯éŸ©å›½ä¸‹é…’èœã€‚' },
      kr: { name: 'ë‹­ë°œ', tip: 'ë§¤ì½¤í•œ ë‹­ë°œ ìš”ë¦¬ë¡œ ë‹¨ë°±ì§ˆì´ í’ë¶€í•˜ì§€ë§Œ ë‚˜íŠ¸ë¥¨ í•¨ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'ë‹­ë°œì€ í•œêµ­ ì•ˆì£¼ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'gujeolpan',
      icon: 'ğŸ±',
      keywords: ['ä¹æŠ˜æ¿', 'êµ¬ì ˆíŒ', 'gujeolpan'],
      kcal: 280,
      protein: 12,
      fat: 10,
      carb: 35,
      level: 'mid',
      zh: { name: 'ä¹æŠ˜æ¿', tip: 'ä¼ ç»Ÿå®«å»·èœï¼Œå¤šç§é£Ÿæåˆ†å¼€æ‘†æ”¾ï¼Œè¥å…»å‡è¡¡ã€‚', recipes: [], gameTip: 'ä¹æŠ˜æ¿æ˜¯éŸ©å›½å®«å»·æ–™ç†ã€‚' },
      kr: { name: 'êµ¬ì ˆíŒ', tip: 'ì „í†µ ê¶ì¤‘ ìŒì‹ìœ¼ë¡œ ë‹¤ì–‘í•œ ì¬ë£Œë¥¼ ë”°ë¡œ ë‹´ì•„ ì˜ì–‘ ê· í˜•ì´ ì¢‹ìŠµë‹ˆë‹¤.', recipes: [], gameTip: 'êµ¬ì ˆíŒì€ í•œêµ­ ê¶ì¤‘ ìš”ë¦¬ì…ë‹ˆë‹¤.' }
    },
    {
      id: 'hobak',
      icon: 'ğŸƒ',
      keywords: ['å—ç“œç²¥', 'í˜¸ë°•ì£½', 'hobak'],
      kcal: 120,
      protein: 3,
      fat: 2,
      carb: 22,
      level: 'good',
      zh: { name: 'å—ç“œç²¥', tip: 'å—ç“œåˆ¶ä½œçš„ç²¥ï¼Œå¯Œå«Î²-èƒ¡èåœç´ ï¼Œæ˜“æ¶ˆåŒ–ã€‚', recipes: [], gameTip: 'å—ç“œç²¥æ˜¯éŸ©å›½ä¼ ç»Ÿç²¥å“ã€‚' },
      kr: { name: 'í˜¸ë°•ì£½', tip: 'í˜¸ë°•ìœ¼ë¡œ ë§Œë“  ì£½ìœ¼ë¡œ ë² íƒ€ì¹´ë¡œí‹´ì´ í’ë¶€í•˜ê³  ì†Œí™”ê°€ ì˜ ë©ë‹ˆë‹¤.', recipes: [], gameTip: 'í˜¸ë°•ì£½ì€ í•œêµ­ ì „í†µ ì£½ì…ë‹ˆë‹¤.' }
    }
  ];

  const FOOD_BY_ID = {};
  FOOD_ITEMS.forEach(f => { FOOD_BY_ID[f.id] = f; });

  /* ===================== é¡¶éƒ¨æ ‡é¢˜åˆ‡æ¢ ===================== */
  function updateContentHeader(sectionId) {
    const t = TEXTS[currentLang];
    if (!contentTitleText || !contentSubtitle || !contentTitle) return;

    if (sectionId === 'section-search') {
      contentTitle.firstElementChild.textContent = 'ğŸ”';
      contentTitleText.textContent = t.searchTitle;
      contentSubtitle.textContent  = t.searchDesc;
    } else if (sectionId === 'section-game') {
      contentTitle.firstElementChild.textContent = 'ğŸ®';
      contentTitleText.textContent = t.gameTitle;
      contentSubtitle.textContent  = t.gameDesc;
    } else if (sectionId === 'section-stats') {
      contentTitle.firstElementChild.textContent = 'ğŸ“Š';
      contentTitleText.textContent = t.statsTitle;
      contentSubtitle.textContent  = t.statsDesc;
    }
  }

  /* ===================== æ’è¡Œæ¦œç³»ç»Ÿ ===================== */
  class RankingSystem {
    constructor() {
      this.loadRankings();
    }
    
    loadRankings() {
      this.foodRanking = JSON.parse(localStorage.getItem('foodRanking')) || [];
      this.gameRanking = JSON.parse(localStorage.getItem('gameRanking')) || [];
    }
    
    saveRankings() {
      localStorage.setItem('foodRanking', JSON.stringify(this.foodRanking));
      localStorage.setItem('gameRanking', JSON.stringify(this.gameRanking));
    }
    
    updateFoodRanking(foodId, foodName) {
      const existing = this.foodRanking.find(item => item.id === foodId);
      
      if (existing) {
        existing.count++;
        existing.lastSearch = new Date().toISOString();
      } else {
        this.foodRanking.push({
          id: foodId,
          name: foodName,
          count: 1,
          firstSearch: new Date().toISOString(),
          lastSearch: new Date().toISOString()
        });
      }
      
      this.foodRanking.sort((a, b) => b.count - a.count);
      if (this.foodRanking.length > 20) {
        this.foodRanking = this.foodRanking.slice(0, 20);
      }
      
      this.saveRankings();
      this.renderFoodRanking();
    }
    
    updateGameRanking(userName, score, level) {
      const existing = this.gameRanking.find(item => item.user === userName);
      
      if (existing) {
        if (score > existing.score) {
          existing.score = score;
          existing.level = level;
          existing.time = new Date().toISOString();
        }
      } else {
        this.gameRanking.push({
          user: userName,
          score: score,
          level: level,
          time: new Date().toISOString()
        });
      }
      
      this.gameRanking.sort((a, b) => b.score - a.score);
      if (this.gameRanking.length > 20) {
        this.gameRanking = this.gameRanking.slice(0, 20);
      }
      
      this.saveRankings();
      this.renderGameRanking();
    }
    
    renderFoodRanking() {
      if (!foodRankingList) return;
      
      if (this.foodRanking.length === 0) {
        foodRankingList.innerHTML = '<li class="empty-hint">è¿˜æ²¡æœ‰æœç´¢æ•°æ®</li>';
        return;
      }
      
      foodRankingList.innerHTML = this.foodRanking.slice(0, 10).map((item, index) => `
        <li style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #e1e6ff;">
          <span>
            <span class="rank-number">${index + 1}</span>
            <span>${item.name}</span>
          </span>
          <span style="color: var(--accent-blue); font-weight: bold;">${item.count}æ¬¡</span>
        </li>
      `).join('');
    }
    
    renderGameRanking() {
      if (!gameRankingList) return;
      
      if (this.gameRanking.length === 0) {
        gameRankingList.innerHTML = '<li class="empty-hint">è¿˜æ²¡æœ‰æ¸¸æˆæ•°æ®</li>';
        return;
      }
      
      gameRankingList.innerHTML = this.gameRanking.slice(0, 10).map((item, index) => `
        <li style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #e1e6ff;">
          <span>
            <span class="rank-number">${index + 1}</span>
            <span>${item.user}</span>
          </span>
          <span>
            <span style="color: var(--accent-blue); font-weight: bold; margin-right: 8px;">${item.score}åˆ†</span>
            <span style="font-size: 11px; color: var(--text-sub);">Lv.${item.level}</span>
          </span>
        </li>
      `).join('');
    }
    
    getMyRanks(userName) {
      let myFoodRank = 'æš‚æ— ';
      let myGameRank = 'æš‚æ— ';
      
      const gameIndex = this.gameRanking.findIndex(item => item.user === userName);
      if (gameIndex !== -1) {
        myGameRank = `ç¬¬${gameIndex + 1}å`;
      }
      
      return { myFoodRank, myGameRank };
    }
  }

  const rankingSystem = new RankingSystem();

  /* ===================== æ¸¸æˆå¼¹çª— ===================== */
  let modalState = null;
  let introShown = false;

  function setModalContent(type) {
    const t = TEXTS[currentLang];
    if (!gameModalTitle || !gameModalBody || !gameModalPrimaryBtn || !gameModalSecondaryBtn) return;

    if (type === 'intro') {
      gameModalTitle.textContent = t.gameIntroTitle;
      gameModalBody.innerHTML    = t.gameIntroBody;
      gameModalPrimaryBtn.textContent   = t.introPrimary;
      gameModalSecondaryBtn.textContent = t.introSecondary;
    } else if (type === 'levelClear') {
      gameModalTitle.textContent = t.levelClearTitle;
      gameModalBody.innerHTML    = '<p>' + t.levelClearBody + '</p>';
      gameModalPrimaryBtn.textContent   = t.levelClearPrimary;
      gameModalSecondaryBtn.textContent = t.levelClearSecondary;
    } else if (type === 'allClear') {
      gameModalTitle.textContent = t.allClearTitle;
      gameModalBody.innerHTML    = '<p>' + t.allClearBody + '</p>';
      gameModalPrimaryBtn.textContent   = t.allClearPrimary;
      gameModalSecondaryBtn.textContent = t.allClearSecondary;
    }
  }

  function openModal(type) {
    modalState = type;
    setModalContent(type);
    if (gameModal) {
      gameModal.style.display = 'flex';
    }
  }

  function closeModal() {
    modalState = null;
    if (gameModal) {
      gameModal.style.display = 'none';
    }
  }

  /* ===================== è¯­è¨€åˆ‡æ¢ ===================== */
  function applyLanguage () {
    const t = TEXTS[currentLang];

    // æ¬¢è¿é¡µ
    if (welcomeTitleEl)    welcomeTitleEl.textContent    = t.welcomeTitle;
    if (welcomeSubtitleEl) welcomeSubtitleEl.textContent = t.welcomeSubtitle;
    if (labelLangEl)       labelLangEl.textContent       = t.labelLang;
    if (labelNameEl)       labelNameEl.firstChild.nodeValue = t.labelName + ' ';
    if (labelNameHintEl)   labelNameHintEl.textContent   = t.labelNameHint;
    if (nameInput)         nameInput.placeholder         = t.welcomeInputPlaceholder;
    if (btnStartTextEl)    btnStartTextEl.textContent    = t.btnStartText;
    if (welcomeTipEl)      welcomeTipEl.textContent      = t.welcomeTip;

    // ä¾§è¾¹æ 
    if (sideTitleEl)       sideTitleEl.textContent       = t.sideTitle;
    if (sideSubtitleEl)    sideSubtitleEl.textContent    = t.sideSubtitle;
    if (sideLangLine)      sideLangLine.textContent      = t.sideLangText;
    if (navSectionLabelEl) navSectionLabelEl.textContent = t.navSectionLabel;
    if (navFooterTextEl)   navFooterTextEl.textContent   = t.navFooterText;
    if (navLogoutEl)       navLogoutEl.textContent       = t.navLogout;

    if (navSearch) navSearch.textContent = t.navSearch;
    if (navGame)   navGame.textContent   = t.navGame;
    if (navStats)  navStats.textContent  = t.navStats;

    // é¡¶éƒ¨æ ‡é¢˜
    updateContentHeader(currentSection);

    // æŸ¥è¯¢é¡µ & ç»Ÿè®¡é¡µæ–‡æœ¬
    if (foodInput) foodInput.placeholder = t.searchPlaceholder;

    if (statsTitleEl)  statsTitleEl.textContent  = t.statsTitle;
    if (statsDescEl)   statsDescEl.textContent   = t.statsDesc;
    if (statSearchLabelEl)  statSearchLabelEl.textContent  = t.statSearchLabel;
    if (statAvgCalLabelEl)  statAvgCalLabelEl.textContent  = t.statAvgCalLabel;
    if (statHealthyLabelEl) statHealthyLabelEl.textContent = t.statHealthyLabel;
    if (statWarningLabelEl) statWarningLabelEl.textContent = t.statWarningLabel;

    // æ¸¸æˆé¡µæ–‡æœ¬
    if (gameInfoText)   gameInfoText.textContent  = t.gameInfo;
    if (gameLevelText) {
      gameLevelText.textContent = (currentLevel === 1) ? t.gameLevel1 : t.gameLevel2;
    }
    if (gameStartBtn)   gameStartBtn.textContent  = t.gameStart;
    if (gameHelpBtn)    gameHelpBtn.textContent   = t.gameHelp;
    if (timerTextEl) {
      timerTextEl.textContent = t.timerPrefix + timeLeft + t.timerSuffix;
    }
    if (matchCountText) {
      matchCountText.textContent = t.matchPrefix + matchedPairs + t.matchSuffix;
    }

    // å¼¹çª—å†…å®¹
    if (modalState && gameModal && gameModal.style.display !== 'none') {
      setModalContent(modalState);
    }

    // å…¶ä»–
    if (recipeTitle)    recipeTitle.textContent   = t.recipeTitle;
    if (emptyHintEl)    emptyHintEl.textContent   = t.emptyHint;
  }

  function setLanguage (lang) {
    currentLang = lang === 'kr' ? 'kr' : 'zh';
    if (langZhBtn) langZhBtn.classList.toggle('active', currentLang === 'zh');
    if (langKrBtn) langKrBtn.classList.toggle('active', currentLang === 'kr');
    applyLanguage();
  }

  if (langZhBtn && langKrBtn) {
    langZhBtn.addEventListener('click', () => setLanguage('zh'));
    langKrBtn.addEventListener('click', () => setLanguage('kr'));
  }

  /* ===================== ç™»å½• / è¿›å…¥ä¸»ç•Œé¢ ===================== */
  if (startBtn && welcomePanel && mainLayout) {
    startBtn.addEventListener('click', () => {
      const name = nameInput ? nameInput.value.trim() : '';
      if (!name) {
        showToast(currentLang === 'zh'
          ? 'è¯·å…ˆè¾“å…¥ä¸€ä¸ªæ˜µç§°æˆ–å­¦å·~'
          : 'ë‹‰ë„¤ì„ ë˜ëŠ” í•™ë²ˆì„ ë¨¼ì € ì…ë ¥í•´ ì£¼ì„¸ìš” :)');
        if (nameInput) nameInput.focus();
        return;
      }
      welcomePanel.style.display = 'none';
      mainLayout.style.display = 'flex';
      mainLayout.style.opacity = '1';
      mainLayout.style.pointerEvents = 'auto';

      const sideUserLine = document.getElementById('sideUserLine');
      if (sideUserLine) {
        sideUserLine.innerHTML = '<strong>' + name + '</strong>';
      }
    });
  }

  // å†ç™»å½•æŒ‰é’®
  if (navLogoutEl && welcomePanel && mainLayout) {
    navLogoutEl.addEventListener('click', () => {
      welcomePanel.style.display = 'flex';
      mainLayout.style.opacity = '0.25';
      mainLayout.style.pointerEvents = 'none';
    });
  }

  /* ===================== å·¦ä¾§å¯¼èˆªåˆ‡æ¢ Section ===================== */
  const navItems = document.querySelectorAll('.nav-btn');

  function showSection (id) {
    sections.forEach(sec => {
      if (sec.id === id) {
        sec.classList.add('active');
      } else {
        sec.classList.remove('active');
      }
    });
    currentSection = id;
    updateContentHeader(id);

    // åˆ·æ–°æ’è¡Œæ¦œ
    if (id === 'section-stats') {
      rankingSystem.renderFoodRanking();
      rankingSystem.renderGameRanking();
      updateMyRankDisplay();
    }

    // ç¬¬ä¸€æ¬¡è¿›å…¥å°æ¸¸æˆæ—¶è‡ªåŠ¨å¼¹å‡ºè¯´æ˜
    if (id === 'section-game' && !introShown) {
      openModal('intro');
      introShown = true;
    }
  }

  navItems.forEach(item => {
    item.addEventListener('click', () => {
      navItems.forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      const target = item.getAttribute('data-target');
      if (target) showSection(target);
    });
  });

  // æ’è¡Œæ¦œæ ‡ç­¾åˆ‡æ¢
  if (rankingTabs.length > 0) {
    rankingTabs.forEach(tab => {
      tab.addEventListener('click', function() {
        rankingTabs.forEach(t => t.classList.remove('active'));
        rankingContents.forEach(c => c.classList.remove('active'));
        
        this.classList.add('active');
        const rankingType = this.dataset.ranking;
        document.getElementById(`${rankingType}Ranking`).classList.add('active');
      });
    });
  }

  /* ===================== æŸ¥è¯¢é€»è¾‘ + ç»Ÿè®¡ ===================== */
  let searchCount = 0;
  let sumCal = 0;
  let healthyCount = 0;
  let warningCount = 0;

  function findFoodByInput (raw) {
    const text = raw.trim().toLowerCase();
    if (!text) return null;
    for (const item of FOOD_ITEMS) {
      if (item.keywords.some(k => text.includes(k.toLowerCase()))) {
        return item;
      }
    }
    return null;
  }

  function renderFood (food) {
    const lang = food[currentLang];
    if (!lang) return;

    if (foodResultArea) {
      foodResultArea.innerHTML = `
        <div class="food-summary">
          <div class="food-main-name">${food.icon} ${lang.name}</div>
        </div>
      `;
    }

    if (calorieValue) calorieValue.textContent = food.kcal + ' kcal';
    if (proteinValue) proteinValue.textContent = food.protein + ' g';
    if (fatValue)     fatValue.textContent     = food.fat + ' g';
    if (carbValue)    carbValue.textContent    = food.carb + ' g';
    if (healthTipEl)  healthTipEl.textContent  = lang.tip;

    if (recipeList) {
      recipeList.innerHTML = '';
      if (lang.recipes && lang.recipes.length > 0) {
        lang.recipes.forEach(r => {
          const li = document.createElement('li');
          li.textContent = r;
          recipeList.appendChild(li);
        });
      }
    }

    if (foodDetail)  foodDetail.style.display = 'block';
    if (emptyHintEl) emptyHintEl.style.display = 'none';
  }

  function updateStats (food) {
    searchCount += 1;
    sumCal += food.kcal;
    if (food.level === 'good') healthyCount += 1;
    if (food.level === 'warn') warningCount += 1;

    if (statSearchCountEl) statSearchCountEl.textContent = String(searchCount);
    if (statAvgCalEl) {
      const avg = searchCount ? (sumCal / searchCount).toFixed(1) : 0;
      statAvgCalEl.textContent = avg + ' kcal';
    }
    if (statHealthyCountEl) statHealthyCountEl.textContent = String(healthyCount);
    if (statWarningCountEl) statWarningCountEl.textContent = String(warningCount);

    // æ›´æ–°é£Ÿå“æœç´¢æ’è¡Œæ¦œ
    const userName = document.getElementById('welcomeNameInput')?.value || 'è®¿å®¢';
    const foodName = food[currentLang]?.name || food.id;
    rankingSystem.updateFoodRanking(food.id, foodName);
  }

  function updateMyRankDisplay() {
    const userName = document.getElementById('welcomeNameInput')?.value || 'è®¿å®¢';
    const { myFoodRank, myGameRank } = rankingSystem.getMyRanks(userName);
    
    if (myFoodRankEl) myFoodRankEl.textContent = myFoodRank;
    if (myGameRankEl) myGameRankEl.textContent = myGameRank;
  }

  function handleSearch () {
    if (!foodInput) return;
    const val = foodInput.value;
    const food = findFoodByInput(val);
    if (!food) {
      if (foodDetail)  foodDetail.style.display = 'none';
      if (emptyHintEl) {
        emptyHintEl.style.display = 'block';
        emptyHintEl.textContent = TEXTS[currentLang].emptyHint;
      }
      return;
    }
    renderFood(food);
    updateStats(food);
  }

  if (searchBtn && foodInput) {
    searchBtn.addEventListener('click', handleSearch);
    foodInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') handleSearch();
    });
  }

  chips.forEach(chip => {
    chip.addEventListener('click', () => {
      const key = chip.dataset.key || chip.textContent.trim();
      if (foodInput) foodInput.value = key;
      const food = findFoodByInput(key);
      if (food) {
        renderFood(food);
        updateStats(food);
      } else {
        handleSearch();
      }
    });
  });

  /* ===================== å°æ¸¸æˆç³»ç»Ÿ ===================== */
  const MAX_LEVEL = 2;
  let currentLevel = 1;

  const ROWS = 4;
  const COLS = 6;
  let grid = [];

  let gameRunning = false;
  let timerId = null;
  let timeLeft = 60;
  let openedCard = null;
  let matchedPairs = 0;
  let totalPairs = 0;

  function getLevelTime() {
    return currentLevel === 1 ? 60 : 45;
  }

  function resetGameState () {
    gameRunning = false;
    if (timerId) clearInterval(timerId);
    timerId = null;
    timeLeft = getLevelTime();
    openedCard = null;
    matchedPairs = 0;

    const t = TEXTS[currentLang];
    if (matchCountText) {
      matchCountText.textContent = t.matchPrefix + '0' + t.matchSuffix;
    }
    if (timerTextEl) {
      timerTextEl.textContent = t.timerPrefix + timeLeft + t.timerSuffix;
    }
    if (gameLevelText) {
      gameLevelText.textContent = currentLevel === 1 ? t.gameLevel1 : t.gameLevel2;
    }
  }

  function buildBoardForCurrentLevel () {
    if (!gameBoard) return;
    gameBoard.innerHTML = '';
    resetGameState();

    // ä»36ç§é£Ÿç‰©ä¸­éšæœºé€‰æ‹©6ç§ï¼Œæ¯ç§4å¼ 
    const allFoods = FOOD_ITEMS.map(f => f.id);
    const selectedFoods = [];
    while (selectedFoods.length < 6) {
      const randomId = allFoods[Math.floor(Math.random() * allFoods.length)];
      if (!selectedFoods.includes(randomId)) {
        selectedFoods.push(randomId);
      }
    }

    const cards = [];
    selectedFoods.forEach(id => {
      // æ¯ç§é£Ÿç‰©4å¼ 
      cards.push(id, id, id, id);
    });

    // æ´—ç‰Œ
    for (let i = cards.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [cards[i], cards[j]] = [cards[j], cards[i]];
    }

    grid = Array.from({ length: ROWS }, () => Array(COLS).fill(null));

    cards.forEach((id, index) => {
      const food = FOOD_BY_ID[id];
      if (!food) return;
      const r = Math.floor(index / COLS);
      const c = index % COLS;
      const div = document.createElement('div');
      div.className = 'tile game-card';
      div.dataset.foodId = id;
      div.dataset.row = String(r);
      div.dataset.col = String(c);
      div.textContent = food.icon;
      gameBoard.appendChild(div);
      grid[r][c] = { id, el: div };
    });
  }

  function startTimer () {
    if (!timerTextEl) return;
    const tText = TEXTS[currentLang];
    timerTextEl.textContent = tText.timerPrefix + timeLeft + tText.timerSuffix;
    timerId = setInterval(() => {
      timeLeft -= 1;
      if (timeLeft < 0) timeLeft = 0;
      timerTextEl.textContent = tText.timerPrefix + timeLeft + tText.timerSuffix;
      if (timeLeft <= 0) {
        clearInterval(timerId);
        gameRunning = false;
        showToast(currentLang === 'zh'
          ? 'æ—¶é—´åˆ°å•¦ï¼Œæœ¬å…³ç»“æŸ~'
          : 'ì‹œê°„ ì¢…ë£Œ!');
      }
    }, 1000);
  }

  function startGame () {
    buildBoardForCurrentLevel();
    gameRunning = true;
    timeLeft = getLevelTime();
    const t = TEXTS[currentLang];
    if (gameLevelText) {
      gameLevelText.textContent = currentLevel === 1 ? t.gameLevel1 : t.gameLevel2;
    }
    if (timerTextEl) {
      timerTextEl.textContent = t.timerPrefix + timeLeft + t.timerSuffix;
    }
    startTimer();
  }

  if (gameStartBtn) {
    gameStartBtn.addEventListener('click', () => {
      currentLevel = 1;
      startGame();
    });
  }

  if (gameHelpBtn) {
    gameHelpBtn.addEventListener('click', () => {
      openModal('intro');
    });
  }

  if (gameModalPrimaryBtn) {
    gameModalPrimaryBtn.addEventListener('click', () => {
      if (modalState === 'intro') {
        closeModal();
        currentLevel = 1;
        startGame();
      } else if (modalState === 'levelClear') {
        closeModal();
        currentLevel += 1;
        startGame();
      } else if (modalState === 'allClear') {
        closeModal();
      }
    });
  }

  if (gameModalSecondaryBtn) {
    gameModalSecondaryBtn.addEventListener('click', () => {
      closeModal();
    });
  }

  if (gameBoard) {
    gameBoard.addEventListener('click', (e) => {
      const card = e.target.closest('.game-card');
      if (!card || !gameRunning) return;
      if (card.classList.contains('matched')) return;

      const row = Number(card.dataset.row);
      const col = Number(card.dataset.col);

      if (!openedCard) {
        openedCard = { el: card, row, col };
        card.classList.add('selected');
        return;
      }

      if (openedCard.el === card) return;

      const id1 = openedCard.el.dataset.foodId;
      const id2 = card.dataset.foodId;

      const t = TEXTS[currentLang];

      if (id1 === id2) {
        // åŒ¹é…æˆåŠŸ
        openedCard.el.classList.remove('selected');
        openedCard.el.classList.add('matched');
        card.classList.add('matched');
        // ä»ç½‘æ ¼ä¸­æ¸…é™¤
        grid[openedCard.row][openedCard.col] = null;
        grid[row][col] = null;

        matchedPairs += 1;

        const food = FOOD_BY_ID[id1];
        if (food) {
          const tip = food[currentLang].gameTip;
          showToast(tip);
        }

        if (matchCountText) {
          matchCountText.textContent = t.matchPrefix + matchedPairs + t.matchSuffix;
        }

        if (matchedPairs >= 12) { // 12å¯¹ = 24å¼ å¡ç‰‡
          gameRunning = false;
          if (timerId) clearInterval(timerId);
          
          // è®¡ç®—å¾—åˆ†ï¼šå‰©ä½™æ—¶é—´ + å…³å¡åŠ æˆ
          const score = timeLeft * 10 + currentLevel * 100;
          
          // æ›´æ–°æ¸¸æˆæ’è¡Œæ¦œ
          const userName = document.getElementById('welcomeNameInput')?.value || 'è®¿å®¢';
          rankingSystem.updateGameRanking(userName, score, currentLevel);
          updateMyRankDisplay();

          // é€šå…³å¼¹çª—
          if (currentLevel < MAX_LEVEL) {
            openModal('levelClear');
          } else {
            openModal('allClear');
          }
        }
      } else {
        // ä¸åŒ¹é…ï¼šæ‰£ 3 ç§’
        openedCard.el.classList.remove('selected');
        timeLeft = Math.max(0, timeLeft - 3);
        if (timerTextEl) {
          timerTextEl.textContent = t.timerPrefix + timeLeft + t.timerSuffix;
        }
        showToast(t.wrongPenalty);
        if (timeLeft <= 0) {
          if (timerId) clearInterval(timerId);
          gameRunning = false;
        }
      }

      openedCard = null;
    });
  }

  /* ===================== åˆå§‹åŒ– ===================== */
  setLanguage('zh');
  showSection('section-search');
  
  // åˆå§‹æ¸²æŸ“æ’è¡Œæ¦œ
  rankingSystem.renderFoodRanking();
  rankingSystem.renderGameRanking();
  updateMyRankDisplay();
})();
</script>
</body>
</html>
