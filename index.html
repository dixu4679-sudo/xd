<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>å¥åº·é¥®é£Ÿé€‰æ‹©åŠ©æ‰‹</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      /* ä¸»è‰²è°ƒï¼šå¥åº·ç»¿è‰²ç³» */
      --primary: #00b894;
      --primary-light: #55efc4;
      --primary-dark: #00a085;
      --secondary: #6c5ce7;
      --secondary-light: #a29bfe;
      
      --bg: #f8f9fa;
      --bg-card: #ffffff;
      --text-main: #2d3436;
      --text-secondary: #636e72;
      --text-light: #b2bec3;
      
      --success: #00b894;
      --warning: #fdcb6e;
      --danger: #ff7675;
      --info: #74b9ff;
      
      --border: #dfe6e9;
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
      --radius: 16px;
      --radius-sm: 8px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", 
                   "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
    }

    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      padding: 20px;
      color: var(--text-main);
    }

    /* ========== æ¬¢è¿é¡µ ========== */
    .welcome-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .welcome-card {
      background: white;
      border-radius: var(--radius);
      padding: 40px;
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow);
      text-align: center;
    }

    .welcome-icon {
      font-size: 64px;
      margin-bottom: 20px;
    }

    .welcome-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 10px;
    }

    .welcome-subtitle {
      color: var(--text-secondary);
      margin-bottom: 30px;
      line-height: 1.6;
    }

    .welcome-input {
      width: 100%;
      padding: 15px 20px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 16px;
      margin-bottom: 20px;
      transition: all 0.3s;
    }

    .welcome-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 184, 148, 0.1);
    }

    .welcome-btn {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: var(--radius-sm);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      width: 100%;
    }

    .welcome-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(0, 184, 148, 0.2);
    }

    /* ========== ä¸»å¸ƒå±€ ========== */
    .app {
      max-width: 1200px;
      margin: 0 auto;
      display: none;
    }

    .app.show {
      display: block;
    }

    .layout {
      display: flex;
      gap: 24px;
      margin-top: 20px;
    }

    /* ä¾§è¾¹æ  */
    .sidebar {
      width: 240px;
      background: white;
      border-radius: var(--radius);
      padding: 24px;
      box-shadow: var(--shadow);
      height: fit-content;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border);
    }

    .user-avatar {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
    }

    .user-name {
      font-weight: 600;
      color: var(--text-main);
    }

    .nav-menu {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .nav-btn {
      padding: 12px 16px;
      border: none;
      background: none;
      text-align: left;
      border-radius: var(--radius-sm);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 15px;
      color: var(--text-secondary);
      transition: all 0.3s;
    }

    .nav-btn:hover {
      background: var(--primary-light);
      color: var(--primary-dark);
    }

    .nav-btn.active {
      background: var(--primary);
      color: white;
      font-weight: 600;
    }

    .nav-btn i {
      font-size: 18px;
    }

    /* ä¸»è¦å†…å®¹åŒº */
    .main-content {
      flex: 1;
      background: white;
      border-radius: var(--radius);
      padding: 32px;
      box-shadow: var(--shadow);
    }

    .content-header {
      margin-bottom: 32px;
    }

    .content-title {
      font-size: 24px;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 8px;
    }

    .content-subtitle {
      color: var(--text-secondary);
      font-size: 15px;
    }

    /* é€šç”¨å¡ç‰‡æ ·å¼ */
    .card {
      background: var(--bg-card);
      border-radius: var(--radius);
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      margin-bottom: 24px;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ========== é£Ÿç‰©æŸ¥è¯¢é¡µ ========== */
    .search-container {
      margin-bottom: 24px;
    }

    .search-box {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }

    .search-input {
      flex: 1;
      padding: 12px 20px;
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      font-size: 16px;
      transition: all 0.3s;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary);
    }

    .search-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: var(--radius-sm);
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .search-btn:hover {
      background: var(--primary-dark);
    }

    .quick-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 24px;
    }

    .tag {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .tag:hover {
      background: var(--primary-light);
      border-color: var(--primary);
    }

    /* é£Ÿç‰©è¯¦æƒ… */
    .food-detail {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .nutrient-card {
      text-align: center;
      padding: 20px;
      border-radius: var(--radius-sm);
      background: var(--bg);
    }

    .nutrient-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary-dark);
      margin: 10px 0;
    }

    .nutrient-label {
      color: var(--text-secondary);
      font-size: 14px;
    }

    /* ========== ç»Ÿè®¡é¡µ ========== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .stat-card {
      text-align: center;
      padding: 24px;
      border-radius: var(--radius);
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    }

    .stat-icon {
      font-size: 32px;
      margin-bottom: 16px;
    }

    .stat-number {
      font-size: 36px;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 8px;
    }

    .stat-label {
      color: var(--text-secondary);
      font-size: 14px;
    }

    /* ========== æ’è¡Œæ¦œé¡µ ========== */
    .leaderboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .leaderboard-card {
      padding: 0;
      overflow: hidden;
    }

    .leaderboard-title {
      padding: 20px;
      background: var(--primary);
      color: white;
      font-weight: 600;
      font-size: 18px;
    }

    .leaderboard-list {
      max-height: 400px;
      overflow-y: auto;
    }

    .leaderboard-item {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .leaderboard-item:last-child {
      border-bottom: none;
    }

    .rank-badge {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: white;
    }

    .rank-1 { background: gold; }
    .rank-2 { background: silver; }
    .rank-3 { background: #cd7f32; }
    .rank-other { background: var(--text-light); }

    .item-content {
      flex: 1;
    }

    .item-name {
      font-weight: 600;
      margin-bottom: 4px;
    }

    .item-stats {
      font-size: 14px;
      color: var(--text-secondary);
    }

    .no-data {
      text-align: center;
      padding: 40px;
      color: var(--text-light);
    }

    /* ========== è¿è¿çœ‹æ¸¸æˆé¡µ ========== */
    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .game-info {
      display: flex;
      gap: 16px;
    }

    .info-card {
      background: var(--bg);
      padding: 12px 20px;
      border-radius: var(--radius-sm);
      text-align: center;
      min-width: 120px;
    }

    .info-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary-dark);
    }

    .info-label {
      font-size: 12px;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .game-controls {
      display: flex;
      gap: 12px;
    }

    .control-btn {
      padding: 10px 20px;
      border: 2px solid var(--primary);
      background: white;
      color: var(--primary);
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .control-btn:hover {
      background: var(--primary);
      color: white;
    }

    .control-btn.primary {
      background: var(--primary);
      color: white;
    }

    .control-btn.primary:hover {
      background: var(--primary-dark);
    }

    /* æ¸¸æˆæ£‹ç›˜ */
    .game-board {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
      margin: 0 auto;
      max-width: 600px;
    }

    .game-tile {
      aspect-ratio: 1;
      background: var(--bg);
      border: 2px solid var(--border);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .game-tile:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .game-tile.selected {
      background: var(--primary-light);
      border-color: var(--primary);
      transform: scale(1.05);
    }

    .game-tile.matched {
      visibility: hidden;
      pointer-events: none;
    }

    /* æ¸¸æˆç»“æŸå¼¹çª— */
    .game-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .game-overlay.show {
      display: flex;
    }

    .result-modal {
      background: white;
      border-radius: var(--radius);
      padding: 40px;
      text-align: center;
      max-width: 500px;
      width: 90%;
    }

    .result-title {
      font-size: 32px;
      margin-bottom: 16px;
      color: var(--primary-dark);
    }

    .result-stats {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin: 30px 0;
    }

    /* ========== å“åº”å¼è®¾è®¡ ========== */
    @media (max-width: 768px) {
      .layout {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
      }
      
      .game-board {
        grid-template-columns: repeat(6, 1fr);
      }
      
      .game-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
      }
      
      .game-info {
        width: 100%;
        justify-content: center;
      }
      
      .leaderboard-grid {
        grid-template-columns: 1fr;
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .game-board {
        grid-template-columns: repeat(4, 1fr);
      }
      
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .welcome-card {
        padding: 24px;
      }
    }
  </style>
</head>
<body>
  <!-- æ¬¢è¿é¡µ -->
  <div class="welcome-overlay" id="welcomeOverlay">
    <div class="welcome-card">
      <div class="welcome-icon">ğŸ¥—</div>
      <h1 class="welcome-title">å¥åº·é¥®é£Ÿé€‰æ‹©åŠ©æ‰‹</h1>
      <p class="welcome-subtitle">æŸ¥è¯¢é£Ÿç‰©è¥å…»ä¿¡æ¯ï¼Œå­¦ä¹ å¥åº·çŸ¥è¯†ï¼Œè¿˜èƒ½ç©è¿è¿çœ‹å°æ¸¸æˆï¼</p>
      <input type="text" class="welcome-input" id="userNameInput" placeholder="è¯·è¾“å…¥æ‚¨çš„æ˜µç§°æˆ–å­¦å·">
      <button class="welcome-btn" id="startBtn">å¼€å§‹ä½¿ç”¨</button>
    </div>
  </div>

  <!-- ä¸»åº”ç”¨ -->
  <div class="app" id="mainApp">
    <div class="layout">
      <!-- ä¾§è¾¹å¯¼èˆª -->
      <aside class="sidebar">
        <div class="user-info">
          <div class="user-avatar">ğŸ¥—</div>
          <div>
            <div class="user-name" id="userNameDisplay">ç”¨æˆ·</div>
            <div class="user-role">å¥åº·é¥®é£ŸåŠ©æ‰‹</div>
          </div>
        </div>
        
        <nav class="nav-menu">
          <button class="nav-btn active" data-section="search">
            <i>ğŸ”</i> é£Ÿç‰©æŸ¥è¯¢
          </button>
          <button class="nav-btn" data-section="stats">
            <i>ğŸ“Š</i> æ•°æ®ç»Ÿè®¡
          </button>
          <button class="nav-btn" data-section="leaderboard">
            <i>ğŸ†</i> æ’è¡Œæ¦œ
          </button>
          <button class="nav-btn" data-section="game">
            <i>ğŸ®</i> è¿è¿çœ‹æ¸¸æˆ
          </button>
          <button class="nav-btn logout" id="logoutBtn">
            <i>ğŸšª</i> é€€å‡ºç™»å½•
          </button>
        </nav>
      </aside>

      <!-- ä¸»è¦å†…å®¹åŒº -->
      <main class="main-content">
        <!-- é£Ÿç‰©æŸ¥è¯¢é¡µ -->
        <section class="section active" id="searchSection">
          <div class="content-header">
            <h2 class="content-title">é£Ÿç‰©æŸ¥è¯¢</h2>
            <p class="content-subtitle">è¾“å…¥é£Ÿç‰©åç§°ï¼ŒæŸ¥çœ‹è¯¦ç»†çš„è¥å…»ä¿¡æ¯å’Œå¥åº·å»ºè®®</p>
          </div>
          
          <div class="search-container">
            <div class="search-box">
              <input type="text" class="search-input" id="foodSearchInput" placeholder="è¯·è¾“å…¥é£Ÿç‰©åç§°ï¼Œå¦‚ï¼šè‹¹æœã€ç‰›å¥¶ã€é¸¡èƒ¸è‚‰">
              <button class="search-btn" id="searchBtn">æœç´¢</button>
            </div>
            
            <div class="quick-tags">
              <span class="tag" data-food="è‹¹æœ">ğŸ è‹¹æœ</span>
              <span class="tag" data-food="ç‰›å¥¶">ğŸ¥› ç‰›å¥¶</span>
              <span class="tag" data-food="ç±³é¥­">ğŸš ç±³é¥­</span>
              <span class="tag" data-food="é¸¡èƒ¸è‚‰">ğŸ— é¸¡èƒ¸è‚‰</span>
              <span class="tag" data-food="èƒ¡èåœ">ğŸ¥• èƒ¡èåœ</span>
              <span class="tag" data-food="å¯ä¹">ğŸ¥¤ å¯ä¹</span>
              <span class="tag" data-food="é¸¡è›‹">ğŸ¥š é¸¡è›‹</span>
              <span class="tag" data-food="è¥¿å…°èŠ±">ğŸ¥¦ è¥¿å…°èŠ±</span>
            </div>
          </div>
          
          <div id="foodResult"></div>
        </section>

        <!-- æ•°æ®ç»Ÿè®¡é¡µ -->
        <section class="section" id="statsSection">
          <div class="content-header">
            <h2 class="content-title">æ•°æ®ç»Ÿè®¡</h2>
            <p class="content-subtitle">æ‚¨çš„é£Ÿç‰©æŸ¥è¯¢ç»Ÿè®¡ä¿¡æ¯</p>
          </div>
          
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-icon">ğŸ“ˆ</div>
              <div class="stat-number" id="totalSearches">0</div>
              <div class="stat-label">ç´¯è®¡æŸ¥è¯¢æ¬¡æ•°</div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">ğŸ”¥</div>
              <div class="stat-number" id="avgCalories">0</div>
              <div class="stat-label">å¹³å‡çƒ­é‡(kcal)</div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">âœ…</div>
              <div class="stat-number" id="healthyChoices">0</div>
              <div class="stat-label">å¥åº·é€‰æ‹©æ¬¡æ•°</div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon">âš ï¸</div>
              <div class="stat-number" id="warningFoods">0</div>
              <div class="stat-label">éœ€æ³¨æ„é£Ÿç‰©</div>
            </div>
          </div>
          
          <div class="card">
            <h3>æŸ¥è¯¢é¢‘ç‡æ’è¡Œæ¦œ</h3>
            <div class="leaderboard-list" id="foodRankList">
              <div class="no-data">æš‚æ— æ•°æ®</div>
            </div>
          </div>
        </section>

        <!-- æ’è¡Œæ¦œé¡µ -->
        <section class="section" id="leaderboardSection">
          <div class="content-header">
            <h2 class="content-title">æ’è¡Œæ¦œ</h2>
            <p class="content-subtitle">æŸ¥çœ‹å„ç§æ’åä¿¡æ¯</p>
          </div>
          
          <div class="leaderboard-grid">
            <div class="card leaderboard-card">
              <div class="leaderboard-title">ğŸ” é£Ÿç‰©æŸ¥è¯¢æ’è¡Œæ¦œ</div>
              <div class="leaderboard-list" id="searchLeaderboard">
                <div class="no-data">æš‚æ— æ•°æ®</div>
              </div>
            </div>
            
            <div class="card leaderboard-card">
              <div class="leaderboard-title">ğŸ† æ¸¸æˆè®°å½•æ’è¡Œæ¦œ</div>
              <div class="leaderboard-list" id="gameLeaderboard">
                <div class="no-data">æš‚æ— æ•°æ®</div>
              </div>
            </div>
          </div>
        </section>

        <!-- è¿è¿çœ‹æ¸¸æˆé¡µ -->
        <section class="section" id="gameSection">
          <div class="content-header">
            <h2 class="content-title">è¿è¿çœ‹å°æ¸¸æˆ</h2>
            <p class="content-subtitle">æ¶ˆé™¤ç›¸åŒé£Ÿç‰©å›¾æ¡ˆï¼Œå­¦ä¹ è¥å…»çŸ¥è¯†</p>
          </div>
          
          <div class="game-header">
            <div class="game-info">
              <div class="info-card">
                <div class="info-value" id="timer">60</div>
                <div class="info-label">å‰©ä½™æ—¶é—´</div>
              </div>
              <div class="info-card">
                <div class="info-value" id="score">0</div>
                <div class="info-label">å¾—åˆ†</div>
              </div>
              <div class="info-card">
                <div class="info-value" id="level">1</div>
                <div class="info-label">å…³å¡</div>
              </div>
            </div>
            
            <div class="game-controls">
              <button class="control-btn" id="helpBtn">æ¸¸æˆè¯´æ˜</button>
              <button class="control-btn primary" id="startGameBtn">å¼€å§‹æ¸¸æˆ</button>
              <button class="control-btn" id="restartBtn">é‡æ–°å¼€å§‹</button>
            </div>
          </div>
          
          <div class="game-board" id="gameBoard"></div>
        </section>
      </main>
    </div>
  </div>

  <!-- æ¸¸æˆç»“æŸå¼¹çª— -->
  <div class="game-overlay" id="gameOverlay">
    <div class="result-modal">
      <div class="result-icon" style="font-size: 64px; margin-bottom: 20px;">ğŸ‰</div>
      <h2 class="result-title" id="resultTitle">æ¸¸æˆå®Œæˆï¼</h2>
      <p id="resultMessage">æ­å–œæ‚¨æˆåŠŸå®Œæˆæ¸¸æˆï¼</p>
      
      <div class="result-stats">
        <div>
          <div class="info-value" id="finalTime">0</div>
          <div class="info-label">ç”¨æ—¶(ç§’)</div>
        </div>
        <div>
          <div class="info-value" id="finalScore">0</div>
          <div class="info-label">å¾—åˆ†</div>
        </div>
      </div>
      
      <div class="game-controls">
        <button class="control-btn" id="closeResultBtn">å…³é—­</button>
        <button class="control-btn primary" id="playAgainBtn">å†ç©ä¸€æ¬¡</button>
      </div>
    </div>
  </div>

  <script>
    // ==================== å…¨å±€æ•°æ® ====================
    const user = {
      name: '',
      searches: [],
      gameRecords: []
    };

    // é£Ÿç‰©æ•°æ®åº“
    const foodDatabase = {
      'è‹¹æœ': { 
        icon: 'ğŸ', calories: 52, protein: 0.3, fat: 0.2, carbs: 14, 
        level: 'healthy', tip: 'å¯Œå«ç»´ç”Ÿç´ Cå’Œè†³é£Ÿçº¤ç»´ï¼Œæ˜¯å¥åº·çš„é›¶é£Ÿé€‰æ‹©ã€‚',
        recipes: ['è‹¹æœ+é…¸å¥¶', 'è‹¹æœ+åšæœ']
      },
      'ç‰›å¥¶': { 
        icon: 'ğŸ¥›', calories: 60, protein: 3.2, fat: 3.3, carbs: 4.8, 
        level: 'healthy', tip: 'ä¼˜è´¨è›‹ç™½è´¨å’Œé’™çš„æ¥æºï¼Œå»ºè®®é€‰æ‹©ä½è„‚ç‰›å¥¶ã€‚',
        recipes: ['ç‰›å¥¶+ç‡•éº¦', 'ç‰›å¥¶+å…¨éº¦é¢åŒ…']
      },
      'ç±³é¥­': { 
        icon: 'ğŸš', calories: 130, protein: 2.4, fat: 0.3, carbs: 28, 
        level: 'moderate', tip: 'æ§åˆ¶ä»½é‡ï¼Œæ­é…è”¬èœå’Œè›‹ç™½è´¨æ›´å¥åº·ã€‚',
        recipes: ['ç±³é¥­+è”¬èœ+ç˜¦è‚‰', 'ç±³é¥­+è±†è…+é’èœ']
      },
      'é¸¡èƒ¸è‚‰': { 
        icon: 'ğŸ—', calories: 120, protein: 22, fat: 3, carbs: 0, 
        level: 'healthy', tip: 'é«˜è›‹ç™½ä½è„‚è‚ªï¼Œæ˜¯å¥èº«é¤çš„å¥½é€‰æ‹©ã€‚',
        recipes: ['é¸¡èƒ¸è‚‰+è”¬èœæ²™æ‹‰', 'é¸¡èƒ¸è‚‰+ç³™ç±³é¥­']
      },
      'èƒ¡èåœ': { 
        icon: 'ğŸ¥•', calories: 41, protein: 0.9, fat: 0.2, carbs: 10, 
        level: 'healthy', tip: 'å¯Œå«Î²-èƒ¡èåœç´ ï¼Œæœ‰åŠ©äºè§†åŠ›å¥åº·ã€‚',
        recipes: ['èƒ¡èåœ+è¥¿å…°èŠ±', 'èƒ¡èåœ+é¸¡è›‹']
      },
      'å¯ä¹': { 
        icon: 'ğŸ¥¤', calories: 42, protein: 0, fat: 0, carbs: 11, 
        level: 'warning', tip: 'é«˜ç³–åˆ†ï¼Œå»ºè®®å°‘å–æˆ–ä¸å–ã€‚',
        recipes: ['å»ºè®®æ›¿æ¢ä¸ºæ°´æˆ–èŒ¶', 'æ— ç³–é¥®æ–™']
      },
      'é¸¡è›‹': { 
        icon: 'ğŸ¥š', calories: 155, protein: 13, fat: 11, carbs: 1.1, 
        level: 'healthy', tip: 'ä¼˜è´¨è›‹ç™½è´¨æ¥æºï¼Œå»ºè®®æ°´ç…®æˆ–è’¸ç…®ã€‚',
        recipes: ['æ°´ç…®è›‹', 'è’¸è›‹ç¾¹']
      },
      'è¥¿å…°èŠ±': { 
        icon: 'ğŸ¥¦', calories: 34, protein: 2.8, fat: 0.4, carbs: 7, 
        level: 'healthy', tip: 'å¯Œå«ç»´ç”Ÿç´ å’ŒçŸ¿ç‰©è´¨ï¼Œå»ºè®®è’¸ç…®é£Ÿç”¨ã€‚',
        recipes: ['è¥¿å…°èŠ±+è’œè“‰', 'è¥¿å…°èŠ±+é¸¡èƒ¸è‚‰']
      },
      'é¦™è•‰': { 
        icon: 'ğŸŒ', calories: 89, protein: 1.1, fat: 0.3, carbs: 23, 
        level: 'healthy', tip: 'å¯Œå«é’¾å…ƒç´ ï¼Œé€‚åˆè¿åŠ¨åè¡¥å……èƒ½é‡ã€‚',
        recipes: ['é¦™è•‰+ç‰›å¥¶', 'é¦™è•‰+å…¨éº¦é¢åŒ…']
      },
      'çŒªè‚‰': { 
        icon: 'ğŸ·', calories: 242, protein: 27, fat: 14, carbs: 0, 
        level: 'moderate', tip: 'é€‰æ‹©ç˜¦è‚‰éƒ¨åˆ†ï¼Œé€‚é‡é£Ÿç”¨ã€‚',
        recipes: ['ç˜¦è‚‰ç‚’èœ', 'æ¸…ç‚–æ’éª¨']
      },
      'é¢åŒ…': { 
        icon: 'ğŸ', calories: 265, protein: 9, fat: 3.2, carbs: 49, 
        level: 'moderate', tip: 'é€‰æ‹©å…¨éº¦é¢åŒ…ï¼Œè¥å…»ä»·å€¼æ›´é«˜ã€‚',
        recipes: ['å…¨éº¦é¢åŒ…+é¸¡è›‹', 'é¢åŒ…+è”¬èœæ²™æ‹‰']
      },
      'é±¼è‚‰': { 
        icon: 'ğŸŸ', calories: 206, protein: 22, fat: 12, carbs: 0, 
        level: 'healthy', tip: 'å¯Œå«Omega-3è„‚è‚ªé…¸ï¼Œæœ‰ç›Šå¿ƒè„å¥åº·ã€‚',
        recipes: ['æ¸…è’¸é±¼', 'çƒ¤é±¼+è”¬èœ']
      }
    };

    // ==================== è¿è¿çœ‹æ¸¸æˆç±» ====================
    class MatchingGame {
      constructor() {
        this.boardSize = 8;
        this.levels = [
          { time: 60, pairs: 10 },
          { time: 45, pairs: 15 },
          { time: 30, pairs: 20 }
        ];
        this.currentLevel = 0;
        this.timeLeft = 60;
        this.score = 0;
        this.selectedTiles = [];
        this.matchedPairs = 0;
        this.totalPairs = 10;
        this.gameActive = false;
        this.timer = null;
        this.board = [];
        
        this.foodIcons = ['ğŸ', 'ğŸ¥›', 'ğŸš', 'ğŸ—', 'ğŸ¥•', 'ğŸ¥¤', 'ğŸ¥š', 'ğŸ¥¦', 'ğŸŒ', 'ğŸ·', 'ğŸ', 'ğŸŸ'];
      }
      
      initGame(level = 0) {
        this.currentLevel = level;
        this.timeLeft = this.levels[level].time;
        this.score = 0;
        this.matchedPairs = 0;
        this.totalPairs = this.levels[level].pairs;
        this.selectedTiles = [];
        this.gameActive = true;
        
        this.createBoard();
        this.updateDisplay();
        this.startTimer();
      }
      
      createBoard() {
        this.board = [];
        const icons = [];
        
        const selectedIcons = [...this.foodIcons].sort(() => Math.random() - 0.5)
          .slice(0, this.totalPairs);
        
        selectedIcons.forEach(icon => {
          icons.push(icon, icon);
        });
        
        for (let i = icons.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [icons[i], icons[j]] = [icons[j], icons[i]];
        }
        
        for (let i = 0; i < this.boardSize * this.boardSize; i++) {
          this.board.push(i < icons.length ? icons[i] : null);
        }
        
        this.renderBoard();
      }
      
      renderBoard() {
        const boardEl = document.getElementById('gameBoard');
        if (!boardEl) return;
        
        boardEl.innerHTML = '';
        boardEl.style.gridTemplateColumns = `repeat(${this.boardSize}, 1fr)`;
        
        this.board.forEach((icon, index) => {
          const tile = document.createElement('div');
          tile.className = 'game-tile';
          tile.dataset.index = index;
          
          if (icon) {
            tile.textContent = icon;
            tile.addEventListener('click', () => this.selectTile(index));
          } else {
            tile.style.visibility = 'hidden';
          }
          
          boardEl.appendChild(tile);
        });
      }
      
      selectTile(index) {
        if (!this.gameActive || !this.board[index]) return;
        
        const tile = document.querySelector(`.game-tile[data-index="${index}"]`);
        if (!tile || tile.classList.contains('matched')) return;
        
        if (this.selectedTiles.some(t => t.index === index)) return;
        
        this.selectedTiles.push({ index, icon: this.board[index] });
        tile.classList.add('selected');
        
        if (this.selectedTiles.length === 2) {
          this.checkMatch();
        }
      }
      
      checkMatch() {
        const [tile1, tile2] = this.selectedTiles;
        
        if (tile1.icon === tile2.icon && this.canConnect(tile1.index, tile2.index)) {
          this.matchedPairs++;
          this.score += 10 * (this.currentLevel + 1);
          
          document.querySelectorAll('.game-tile.selected').forEach(tile => {
            tile.classList.remove('selected');
            tile.classList.add('matched');
          });
          
          this.board[tile1.index] = null;
          this.board[tile2.index] = null;
          
          if (this.matchedPairs >= this.totalPairs) {
            this.levelComplete();
          }
        } else {
          setTimeout(() => {
            document.querySelectorAll('.game-tile.selected').forEach(tile => {
              tile.classList.remove('selected');
            });
          }, 500);
        }
        
        this.selectedTiles = [];
        this.updateDisplay();
      }
      
      canConnect(index1, index2) {
        const pos1 = this.getPosition(index1);
        const pos2 = this.getPosition(index2);
        
        if (this.checkStraightLine(pos1, pos2)) return true;
        if (this.checkOneTurn(pos1, pos2)) return true;
        if (this.checkTwoTurns(pos1, pos2)) return true;
        
        return false;
      }
      
      getPosition(index) {
        return {
          row: Math.floor(index / this.boardSize),
          col: index % this.boardSize
        };
      }
      
      checkStraightLine(pos1, pos2) {
        if (pos1.row === pos2.row) {
          const minCol = Math.min(pos1.col, pos2.col);
          const maxCol = Math.max(pos1.col, pos2.col);
          for (let col = minCol + 1; col < maxCol; col++) {
            const idx = pos1.row * this.boardSize + col;
            if (this.board[idx] !== null) return false;
          }
          return true;
        }
        
        if (pos1.col === pos2.col) {
          const minRow = Math.min(pos1.row, pos2.row);
          const maxRow = Math.max(pos1.row, pos2.row);
          for (let row = minRow + 1; row < maxRow; row++) {
            const idx = row * this.boardSize + pos1.col;
            if (this.board[idx] !== null) return false;
          }
          return true;
        }
        
        return false;
      }
      
      checkOneTurn(pos1, pos2) {
        const turnPoints = [
          { row: pos1.row, col: pos2.col },
          { row: pos2.row, col: pos1.col }
        ];
        
        for (const turn of turnPoints) {
          const idx1 = pos1.row * this.boardSize + turn.col;
          const idx2 = turn.row * this.boardSize + pos2.col;
          
          if (this.board[idx1] === null && this.board[idx2] === null) {
            const firstLeg = this.checkStraightLine(pos1, turn);
            const secondLeg = this.checkStraightLine(turn, pos2);
            if (firstLeg && secondLeg) return true;
          }
        }
        
        return false;
      }
      
      checkTwoTurns(pos1, pos2) {
        for (let row = 0; row < this.boardSize; row++) {
          for (let col = 0; col < this.boardSize; col++) {
            const turn1 = { row, col };
            const turn2 = { row: pos2.row, col };
            
            const idx1 = turn1.row * this.boardSize + turn1.col;
            const idx2 = turn2.row * this.boardSize + turn2.col;
            
            if (this.board[idx1] === null && this.board[idx2] === null) {
              const path1 = this.checkStraightLine(pos1, turn1);
              const path2 = this.checkStraightLine(turn1, turn2);
              const path3 = this.checkStraightLine(turn2, pos2);
              
              if (path1 && path2 && path3) return true;
            }
          }
        }
        
        return false;
      }
      
      startTimer() {
        if (this.timer) clearInterval(this.timer);
        
        this.timer = setInterval(() => {
          this.timeLeft--;
          this.updateDisplay();
          
          if (this.timeLeft <= 0) {
            this.gameOver();
          }
        }, 1000);
      }
      
      updateDisplay() {
        document.getElementById('timer').textContent = this.timeLeft;
        document.getElementById('score').textContent = this.score;
        document.getElementById('level').textContent = this.currentLevel + 1;
      }
      
      levelComplete() {
        clearInterval(this.timer);
        this.gameActive = false;
        
        user.gameRecords.push({
          level: this.currentLevel + 1,
          time: this.levels[this.currentLevel].time - this.timeLeft,
          score: this.score,
          date: new Date().toLocaleDateString()
        });
        
        saveUserData();
        
        const modal = document.getElementById('gameOverlay');
        const title = document.getElementById('resultTitle');
        const message = document.getElementById('resultMessage');
        const time = document.getElementById('finalTime');
        const score = document.getElementById('finalScore');
        
        if (this.currentLevel < this.levels.length - 1) {
          title.textContent = `ç¬¬${this.currentLevel + 1}å…³å®Œæˆï¼`;
          message.textContent = `ç”¨æ—¶${this.levels[this.currentLevel].time - this.timeLeft}ç§’ï¼Œå¾—åˆ†${this.score}`;
        } else {
          title.textContent = 'æ­å–œé€šå…³ï¼';
          message.textContent = 'æ‚¨å·²æˆåŠŸå®Œæˆæ‰€æœ‰å…³å¡ï¼';
        }
        
        time.textContent = this.levels[this.currentLevel].time - this.timeLeft;
        score.textContent = this.score;
        
        modal.classList.add('show');
      }
      
      gameOver() {
        clearInterval(this.timer);
        this.gameActive = false;
        
        const modal = document.getElementById('gameOverlay');
        const title = document.getElementById('resultTitle');
        const message = document.getElementById('resultMessage');
        const time = document.getElementById('finalTime');
        const score = document.getElementById('finalScore');
        
        title.textContent = 'æ—¶é—´åˆ°ï¼';
        message.textContent = 'å¾ˆé—æ†¾ï¼Œæ—¶é—´ç”¨å®Œäº†ï¼Œå†è¯•ä¸€æ¬¡å§ï¼';
        time.textContent = 0;
        score.textContent = this.score;
        
        modal.classList.add('show');
      }
    }

    // ==================== æ•°æ®ç®¡ç† ====================
    function saveUserData() {
      localStorage.setItem('healthFoodHelper_user', JSON.stringify(user));
    }

    function loadUserData() {
      const saved = localStorage.getItem('healthFoodHelper_user');
      if (saved) {
        Object.assign(user, JSON.parse(saved));
      }
    }

    // ==================== é¡µé¢åˆ‡æ¢ ====================
    function switchSection(sectionId) {
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      const targetSection = document.getElementById(`${sectionId}Section`);
      if (targetSection) {
        targetSection.classList.add('active');
      }
      
      const targetBtn = document.querySelector(`.nav-btn[data-section="${sectionId}"]`);
      if (targetBtn) {
        targetBtn.classList.add('active');
      }
      
      if (sectionId === 'stats') {
        updateStats();
      } else if (sectionId === 'leaderboard') {
        updateLeaderboards();
      }
    }

    // ==================== é£Ÿç‰©æŸ¥è¯¢ ====================
    function searchFood(foodName) {
      const food = foodDatabase[foodName];
      const resultEl = document.getElementById('foodResult');
      
      if (!food) {
        resultEl.innerHTML = `
          <div class="card">
            <h3>æœªæ‰¾åˆ°é£Ÿç‰©</h3>
            <p>æœªæ‰¾åˆ°"${foodName}"çš„ç›¸å…³ä¿¡æ¯ï¼Œè¯·å°è¯•å…¶ä»–é£Ÿç‰©åç§°ã€‚</p>
          </div>
        `;
        return;
      }
      
      user.searches.push({
        food: foodName,
        time: new Date().toLocaleString(),
        calories: food.calories,
        level: food.level
      });
      
      saveUserData();
      
      const levelText = food.level === 'healthy' ? 'å¥åº·' : 
                       food.level === 'moderate' ? 'é€‚ä¸­' : 'éœ€æ³¨æ„';
      const levelClass = food.level === 'healthy' ? 'success' : 
                        food.level === 'moderate' ? 'warning' : 'danger';
      
      resultEl.innerHTML = `
        <div class="card">
          <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 24px;">
            <div style="font-size: 48px;">${food.icon}</div>
            <div>
              <h2 style="margin: 0 0 8px 0;">${foodName}</h2>
              <span style="padding: 4px 12px; background: ${food.level === 'healthy' ? '#d4edda' : food.level === 'warning' ? '#fff3cd' : '#f8d7da'}; 
                    color: ${food.level === 'healthy' ? '#155724' : food.level === 'warning' ? '#856404' : '#721c24'}; 
                    border-radius: 20px; font-size: 14px;">
                ${levelText}
              </span>
            </div>
          </div>
          
          <div class="food-detail">
            <div class="nutrient-card">
              <div class="nutrient-value">${food.calories}</div>
              <div class="nutrient-label">çƒ­é‡(kcal)</div>
            </div>
            <div class="nutrient-card">
              <div class="nutrient-value">${food.protein}</div>
              <div class="nutrient-label">è›‹ç™½è´¨(g)</div>
            </div>
            <div class="nutrient-card">
              <div class="nutrient-value">${food.fat}</div>
              <div class="nutrient-label">è„‚è‚ª(g)</div>
            </div>
            <div class="nutrient-card">
              <div class="nutrient-value">${food.carbs}</div>
              <div class="nutrient-label">ç¢³æ°´åŒ–åˆç‰©(g)</div>
            </div>
          </div>
          
          <div style="margin-top: 24px; padding: 16px; background: #e8f4f8; border-radius: var(--radius-sm);">
            <h4 style="margin: 0 0 8px 0;">å¥åº·å»ºè®®ï¼š</h4>
            <p style="margin: 0;">${food.tip}</p>
          </div>
          
          <div style="margin-top: 16px;">
            <h4 style="margin: 0 0 8px 0;">æ¨èæ­é…ï¼š</h4>
            <ul style="padding-left: 20px;">
              ${food.recipes.map(recipe => `<li>${recipe}</li>`).join('')}
            </ul>
          </div>
        </div>
      `;
      
      updateStats();
    }

    // ==================== ç»Ÿè®¡æ•°æ®æ›´æ–° ====================
    function updateStats() {
      const totalSearches = user.searches.length;
      const healthyChoices = user.searches.filter(s => s.level === 'healthy').length;
      const warningFoods = user.searches.filter(s => s.level === 'warning').length;
      
      let avgCalories = 0;
      if (totalSearches > 0) {
        const totalCalories = user.searches.reduce((sum, search) => sum + search.calories, 0);
        avgCalories = Math.round(totalCalories / totalSearches);
      }
      
      document.getElementById('totalSearches').textContent = totalSearches;
      document.getElementById('avgCalories').textContent = avgCalories;
      document.getElementById('healthyChoices').textContent = healthyChoices;
      document.getElementById('warningFoods').textContent = warningFoods;
      
      updateFoodRankList();
    }

    function updateFoodRankList() {
      const rankList = document.getElementById('foodRankList');
      const foodCounts = {};
      
      user.searches.forEach(search => {
        foodCounts[search.food] = (foodCounts[search.food] || 0) + 1;
      });
      
      const sortedFoods = Object.entries(foodCounts)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 5);
      
      if (sortedFoods.length === 0) {
        rankList.innerHTML = '<div class="no-data">æš‚æ— æ•°æ®</div>';
        return;
      }
      
      rankList.innerHTML = sortedFoods.map(([food, count], index) => `
        <div class="leaderboard-item">
          <div class="rank-badge rank-${index + 1}">${index + 1}</div>
          <div class="item-content">
            <div class="item-name">${foodDatabase[food]?.icon || ''} ${food}</div>
            <div class="item-stats">æŸ¥è¯¢æ¬¡æ•°: ${count}</div>
          </div>
        </div>
      `).join('');
    }

    // ==================== æ’è¡Œæ¦œæ›´æ–° ====================
    function updateLeaderboards() {
      const searchRankList = document.getElementById('searchLeaderboard');
      const foodCounts = {};
      
      user.searches.forEach(search => {
        foodCounts[search.food] = (foodCounts[search.food] || 0) + 1;
      });
      
      const sortedFoods = Object.entries(foodCounts)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 10);
      
      if (sortedFoods.length === 0) {
        searchRankList.innerHTML = '<div class="no-data">æš‚æ— æŸ¥è¯¢è®°å½•</div>';
      } else {
        searchRankList.innerHTML = sortedFoods.map(([food, count], index) => `
          <div class="leaderboard-item">
            <div class="rank-badge ${index < 3 ? `rank-${index + 1}` : 'rank-other'}">
              ${index + 1}
            </div>
            <div class="item-content">
              <div class="item-name">${foodDatabase[food]?.icon || ''} ${food}</div>
              <div class="item-stats">æŸ¥è¯¢æ¬¡æ•°: ${count}æ¬¡</div>
            </div>
          </div>
        `).join('');
      }
      
      const gameRankList = document.getElementById('gameLeaderboard');
      const sortedGames = [...user.gameRecords]
        .sort((a, b) => a.time - b.time)
        .slice(0, 10);
      
      if (sortedGames.length === 0) {
        gameRankList.innerHTML = '<div class="no-data">æš‚æ— æ¸¸æˆè®°å½•</div>';
      } else {
        gameRankList.innerHTML = sortedGames.map((record, index) => `
          <div class="leaderboard-item">
            <div class="rank-badge ${index < 3 ? `rank-${index + 1}` : 'rank-other'}">
              ${index + 1}
            </div>
            <div class="item-content">
              <div class="item-name">ç¬¬${record.level}å…³</div>
              <div class="item-stats">
                <div>ç”¨æ—¶: ${record.time}ç§’</div>
                <div>å¾—åˆ†: ${record.score}åˆ†</div>
                <div style="font-size: 12px; color: var(--text-light);">${record.date}</div>
              </div>
            </div>
          </div>
        `).join('');
      }
    }

    // ==================== åˆå§‹åŒ–æ¸¸æˆå®ä¾‹ ====================
    const game = new MatchingGame();

    // ==================== äº‹ä»¶ç›‘å¬å™¨ ====================
    document.addEventListener('DOMContentLoaded', () => {
      loadUserData();
      
      document.getElementById('startBtn').addEventListener('click', () => {
        const userName = document.getElementById('userNameInput').value.trim();
        if (!userName) {
          alert('è¯·è¾“å…¥æ˜µç§°æˆ–å­¦å·');
          return;
        }
        
        user.name = userName;
        document.getElementById('userNameDisplay').textContent = userName;
        
        document.getElementById('welcomeOverlay').style.display = 'none';
        document.getElementById('mainApp').classList.add('show');
        
        saveUserData();
      });
      
      document.getElementById('logoutBtn').addEventListener('click', () => {
        document.getElementById('welcomeOverlay').style.display = 'flex';
        document.getElementById('mainApp').classList.remove('show');
      });
      
      document.querySelectorAll('.nav-btn:not(.logout)').forEach(btn => {
        btn.addEventListener('click', () => {
          const section = btn.dataset.section;
          switchSection(section);
        });
      });
      
      document.getElementById('searchBtn').addEventListener('click', () => {
        const input = document.getElementById('foodSearchInput');
        searchFood(input.value);
      });
      
      document.querySelectorAll('.tag').forEach(tag => {
        tag.addEventListener('click', () => {
          const foodName = tag.dataset.food;
          document.getElementById('foodSearchInput').value = foodName;
          searchFood(foodName);
        });
      });
      
      document.getElementById('startGameBtn').addEventListener('click', () => {
        game.initGame(0);
        switchSection('game');
      });
      
      document.getElementById('restartBtn').addEventListener('click', () => {
        game.initGame(0);
      });
      
      document.getElementById('helpBtn').addEventListener('click', () => {
        alert(`è¿è¿çœ‹æ¸¸æˆè§„åˆ™ï¼š
1. ç‚¹å‡»ä¸¤ä¸ªç›¸åŒçš„é£Ÿç‰©å›¾æ ‡
2. ä¸¤ä¸ªå›¾æ ‡ä¹‹é—´å¯ä»¥ç”¨â‰¤3æ¡ç›´çº¿è¿æ¥
3. è¿æ¥çº¿ä¸èƒ½ç©¿è¿‡å…¶ä»–å›¾æ ‡
4. åœ¨è§„å®šæ—¶é—´å†…æ¶ˆé™¤æ‰€æœ‰å›¾æ ‡
5. æ¯ä¸ªå…³å¡éš¾åº¦ä¸åŒï¼Œæ—¶é—´æ›´çŸ­
6. åŒ¹é…æˆåŠŸå¾—åˆ†ï¼Œè¶…æ—¶æ¸¸æˆç»“æŸ`);
      });
      
      document.getElementById('closeResultBtn').addEventListener('click', () => {
        document.getElementById('gameOverlay').classList.remove('show');
      });
      
      document.getElementById('playAgainBtn').addEventListener('click', () => {
        document.getElementById('gameOverlay').classList.remove('show');
        game.initGame(0);
      });
      
      document.getElementById('foodSearchInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          searchFood(e.target.value);
        }
      });
    });

    // ==================== åˆå§‹åŒ–é¡µé¢ ====================
    window.addEventListener('load', () => {
      loadUserData();
      if (user.name) {
        document.getElementById('userNameDisplay').textContent = user.name;
        document.getElementById('welcomeOverlay').style.display = 'none';
        document.getElementById('mainApp').classList.add('show');
      }
      
      updateStats();
      updateLeaderboards();
    });
  </script>
</body>
</html>
